"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_analytics-provider_context_ts-packages_aria-live_aria-live_ts-packages_copilot-chat_-75de61"],{11418:(e,t,r)=>{let n;r.d(t,{H:()=>R});var o=r(35750),a=r(18150),i=r(85242),s=r(88243),l=r(16213),c=r(10204),d=new WeakMap,h=new WeakSet;let AliveSession=class AliveSession extends c.ib{constructor(e,t,r,n,o){super(e,()=>(0,s._)(this,h,u).call(this),r,n,void 0,o),(0,l._)(this,h),(0,a._)(this,d,{writable:!0,value:void 0}),(0,i._)(this,d,t)}};function u(){return p((0,o._)(this,d))}async function p(e){let t=await m(e);return t&&t.url&&t.token?f(t.url,t.token):null}async function m(e){let t=await fetch(e,{headers:{Accept:"application/json"}});if(t.ok)return t.json();if(404===t.status)return null;throw Error("fetch error")}async function f(e,t){let r=await fetch(e,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":t}});if(r.ok)return r.text();throw Error("fetch error")}var g=r(70170),x=r(34095),b=r(82075),w=r(23683),y=r(69599);function v(e,{channel:t,type:r,data:n}){for(let o of e)o.dispatchEvent(new CustomEvent(`socket:${r}`,{bubbles:!1,cancelable:!1,detail:{name:t,data:n}}))}var j=new WeakMap,_=new WeakMap,S=new WeakMap,C=new WeakMap,N=new WeakMap,O=new WeakSet;let I=class AliveSessionProxy{subscribe(e){let t=(0,o._)(this,_).add(...e);t.length&&(0,o._)(this,j).port.postMessage({subscribe:t});let r=new Set(t.map(e=>e.name)),n=e.reduce((e,t)=>{let n=t.topic.name;return(0,c.JR)(n)&&!r.has(n)&&e.add(n),e},new Set);n.size&&(0,o._)(this,j).port.postMessage({requestPresence:Array.from(n)})}unsubscribeAll(...e){let t=(0,o._)(this,_).drain(...e);t.length&&(0,o._)(this,j).port.postMessage({unsubscribe:t});let r=(0,o._)(this,S).removeSubscribers(e);this.sendPresenceMetadataUpdate(r)}updatePresenceMetadata(e){let t=new Set;for(let r of e)(0,o._)(this,S).setMetadata(r),t.add(r.channelName);this.sendPresenceMetadataUpdate(t)}sendPresenceMetadataUpdate(e){if(!e.size)return;let t=[];for(let r of e)t.push({channelName:r,metadata:(0,o._)(this,S).getChannelMetadata(r)});(0,o._)(this,j).port.postMessage({updatePresenceMetadata:t})}online(){(0,o._)(this,j).port.postMessage({online:!0})}offline(){(0,o._)(this,j).port.postMessage({online:!1})}hangup(){(0,o._)(this,j).port.postMessage({hangup:!0})}constructor(e,t,r,n,d,h){(0,l._)(this,O),(0,a._)(this,j,{writable:!0,value:void 0}),(0,a._)(this,_,{writable:!0,value:new c.m0}),(0,a._)(this,S,{writable:!0,value:new c.VH}),(0,a._)(this,C,{writable:!0,value:void 0}),(0,a._)(this,N,{writable:!0,value:new Map}),(0,i._)(this,C,d),(0,i._)(this,j,new SharedWorker(`${e}?module=true`,{name:`github-socket-worker-v3-${n}`,type:"module"})),(0,o._)(this,j).port.onmessage=({data:e})=>(0,s._)(this,O,P).call(this,e),(0,o._)(this,j).port.postMessage({connect:{url:t,refreshUrl:r,options:h}})}};function P(e){let{channel:t}=e;if("presence"===e.type){let r=(0,o._)(this,N).get(t);r||(r=(0,g.s)((e,r)=>{(0,o._)(this,C).call(this,e,r),(0,o._)(this,N).delete(t)},100),(0,o._)(this,N).set(t,r)),r((0,o._)(this,_).subscribers(t),e);return}(0,o._)(this,C).call(this,(0,o._)(this,_).subscribers(t),e)}async function k(){let e=function(){let e=document.head.querySelector("link[rel=shared-web-socket-src]")?.getAttribute("href");return e&&e.startsWith("/")?e:null}();if(!e)return;let t=document.head.querySelector("link[rel=shared-web-socket]")?.href??null;if(!t)return;let r=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-refresh-url")??null;if(!r)return;let n=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-session-id")??null;if(!n)return;let o=(()=>{let o=(0,y.G7)("alive_legacy_retries")?{socketPolicy:{timeout:4e3,attempts:7}}:{};if(!(0,w.nr)()&&"SharedWorker"in window&&"true"!==(0,b.A)("localStorage").getItem("bypassSharedWorker"))try{return new I(e,t,r,n,v,o)}catch{}return new AliveSession(t,r,!1,v,o)})();return window.addEventListener("online",()=>o.online()),window.addEventListener("offline",()=>o.offline()),window.addEventListener("pagehide",()=>{"hangup"in o&&o.hangup()}),o}async function D(){return await x.G,k()}function R(){return n||(n=D())}},73056:(e,t,r)=>{r.d(t,{$:()=>i});var n=r(10204),o=r(33303);let a=new WeakMap;function i(e,t,r){let i;if(!e)throw Error("Not connected to alive");if(!t)throw Error("No channel name");let s=n.KK.parse(t);if(!s)throw Error("Invalid channel name");let l={subscriber:{dispatchEvent:e=>{e instanceof CustomEvent&&r(e.detail.data)}},topic:s},c=((i=a.get(e))||(i={subscribe:(0,o.rK)(t=>e.subscribe(t.flat())),unsubscribeAll:(0,o.rK)(t=>e.unsubscribeAll(...t))},a.set(e,i)),i);return c.subscribe([l]),{unsubscribe:()=>c.unsubscribeAll(l.subscriber)}}},49936:(e,t,r)=>{r.d(t,{I:()=>n});let n=(0,r(96540).createContext)(null)},4559:(e,t,r)=>{r.d(t,{C:()=>i,i:()=>s});var n=r(71315),o=r(69599),a=r(46493);function i(e,t){(0,o.G7)("arianotify_comprehensive_migration")?s(l(e),{...t,element:t?.element??e}):(0,o.G7)("primer_live_region_element")&&t?.element===void 0?(0,a.Cj)(e,{politeness:t?.assertive?"assertive":"polite"}):s(l(e),t)}function s(e,t){let{assertive:r,element:i}=t??{};(0,o.G7)("arianotify_comprehensive_migration")&&"ariaNotify"in Element.prototype?(i||document.body).ariaNotify(e):(0,o.G7)("primer_live_region_element")&&void 0===i?(0,a.iP)(e,{politeness:r?"assertive":"polite"}):function(e,t,r){let o=r??n.XC?.querySelector(t?"#js-global-screen-reader-notice-assertive":"#js-global-screen-reader-notice");o&&(o.textContent===e?o.textContent=`${e}\u00A0`:o.textContent=e)}(e,r,i)}function l(e){return(e.getAttribute("aria-label")||e.innerText||"").trim()}},18308:(e,t,r)=>{var n=r(7123),o=r(74848),a=r(21728),i=r(97519),s=r(94195),l=r(2635),c=r(33592),d=r(99505),h=r(97286),u=r(77430),p=r(25407),m=r(68911),f=r(71315),g=r(45385),x=r(91547),b=r(38621),w=r(89169),y=r(87330),v=r(21998),j=r(96540),_=r(37178),S=r(73017);function C(e){let t,r,n,i,s=(0,a.c)(11),{lineNumbers:l,lines:c,trimLineBeginnings:d}=e;if(s[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",flexDirection:"row",overflowX:"auto",pb:3},r={fontSize:"12px",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace",overflowX:"auto"},s[0]=t,s[1]=r):(t=s[0],r=s[1]),s[2]!==l||s[3]!==c||s[4]!==d){let e;s[6]!==c||s[7]!==d?(e=(e,t)=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e},e),(0,o.jsx)("td",{style:{whiteSpace:"pre",paddingLeft:"16px"},children:(0,o.jsx)(S.$6,{html:d?(c[t]??"").trimStart():c[t]||`
`},`line-${t}`)})]},`line-row-${e}`),s[6]=c,s[7]=d,s[8]=e):e=s[8],n=l.map(e),s[2]=l,s[3]=c,s[4]=d,s[5]=n}else n=s[5];return s[9]!==n?(i=(0,o.jsx)(v.az,{sx:t,children:(0,o.jsx)("table",{style:r,children:n})}),s[9]=n,s[10]=i):i=s[10],i}try{C.displayName||(C.displayName="SimpleCodeListing")}catch{}function N(e){let t,r,n,i,s,l,c,d,h,f,y,S,N,D,R,E,L,T,A,V,B,$,F,z,M,H,U,W,G,J,q=(0,a.c)(88),{reference:X,details:Q,detailsLoading:Y,detailsError:K,onDismiss:Z}=e,{contributors:ee}=(0,g.u)(X.repoOwner,X.repoName,X.commitOID,X.path),[et]=(0,x.E)(X.repoOwner,X.repoName,X.commitOID,X.path),{lines:er,lineNumbers:en,expandUp:eo,expandDown:ea}=function(e,t,r){let n,o,i,s,l,c,d,h,u=(0,a.c)(42),[p,m]=(0,j.useState)(e?.start??-1),[f,g]=(0,j.useState)(e?.end??-1);u[0]!==r||u[1]!==t||u[2]!==e?(n=r&&e&&t?r.slice(e.start-t.start,e.end-t.start+1):[],u[0]=r,u[1]=t,u[2]=e,u[3]=n):n=u[3];let[x,b]=(0,j.useState)(n);u[4]!==r||u[5]!==f||u[6]!==t||u[7]!==e||u[8]!==p?(o=(n,o)=>{let a=void 0===n?p:n,i=void 0===o?f:o;r&&e&&t&&!(a<0)&&!(i<0)&&b(r.slice(a-t.start,i-t.start+1))},u[4]=r,u[5]=f,u[6]=t,u[7]=e,u[8]=p,u[9]=o):o=u[9];let w=o;u[10]!==r||u[11]!==f||u[12]!==e||u[13]!==p||u[14]!==w?(i=()=>{if(e&&r&&(-1===p||-1===f)){let t=e.start,r=e.end;m(t),g(r),w(t,r)}},u[10]=r,u[11]=f,u[12]=e,u[13]=p,u[14]=w,u[15]=i):i=u[15],u[16]!==r||u[17]!==f||u[18]!==t||u[19]!==e||u[20]!==p||u[21]!==w?(s=[r,e,t,w,p,f],u[16]=r,u[17]=f,u[18]=t,u[19]=e,u[20]=p,u[21]=w,u[22]=s):s=u[22],(0,j.useEffect)(i,s),u[23]!==t?.start||u[24]!==p||u[25]!==w?(l=()=>{let e=Math.max(p-k,t?.start??-1);m(e),w(e)},u[23]=t?.start,u[24]=p,u[25]=w,u[26]=l):l=u[26],t?.start;let y=l;u[27]!==f||u[28]!==t?.end||u[29]!==p||u[30]!==w?(c=()=>{let e=Math.min(f+k,t?.end??-1);g(e),w(p,e)},u[27]=f,u[28]=t?.end,u[29]=p,u[30]=w,u[31]=c):c=u[31],t?.end;let v=c,_=-1!==p&&p!==t?.start,S=-1!==f&&f!==t?.end;if(u[32]!==x||u[33]!==p){let e;u[35]!==p?(e=(e,t)=>p+t,u[35]=p,u[36]=e):e=u[36],d=x.map(e),u[32]=x,u[33]=p,u[34]=d}else d=u[34];let C=_?y:null,N=S?v:null;return u[37]!==x||u[38]!==d||u[39]!==C||u[40]!==N?(h={lines:x,lineNumbers:d,expandUp:C,expandDown:N},u[37]=x,u[38]=d,u[39]=C,u[40]=N,u[41]=h):h=u[41],h}(Q?.range,Q?.expandedRange,Q?.highlightedContents),ei=Q?.headerInfo,es=Q?.repoIsOrgOwned,el=`${X.repoOwner}.png`;return q[0]===Symbol.for("react.memo_cache_sentinel")?(t={mr:2,flexShrink:0},q[0]=t):t=q[0],q[1]!==es||q[2]!==el?(r=(0,o.jsx)(u.r,{square:es,src:el,sx:t}),q[1]=es,q[2]=el,q[3]=r):r=q[3],q[4]===Symbol.for("react.memo_cache_sentinel")?(n={fontWeight:600,whiteSpace:"nowrap"},q[4]=n):n=q[4],q[5]!==X.repoName||q[6]!==X.repoOwner?(i=(0,o.jsxs)(v.EY,{sx:n,children:[X.repoOwner,"/",X.repoName]}),q[5]=X.repoName,q[6]=X.repoOwner,q[7]=i):i=q[7],q[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,o.jsx)(v.EY,{sx:{marginX:1},children:"\xb7"}),q[8]=s):s=q[8],q[9]===Symbol.for("react.memo_cache_sentinel")?(l={fontWeight:400},q[9]=l):l=q[9],q[10]!==X.ref?(c=(0,m.gE)(X.ref),q[10]=X.ref,q[11]=c):c=q[11],q[12]!==c?(d=(0,o.jsx)(v.EY,{sx:l,children:c}),q[12]=c,q[13]=d):d=q[13],q[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,o.jsx)(v.EY,{sx:{marginX:1},children:"\xb7"}),q[14]=h):h=q[14],q[15]===Symbol.for("react.memo_cache_sentinel")?(f={fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},q[15]=f):f=q[15],q[16]!==X.path?(y=(0,o.jsx)(v.EY,{sx:f,children:X.path}),q[16]=X.path,q[17]=y):y=q[17],q[18]!==X.range||q[19]!==X.type?(S="snippet"===X.type&&(0,o.jsxs)("span",{children:[":",X.range.start,"-",X.range.end]}),q[18]=X.range,q[19]=X.type,q[20]=S):S=q[20],q[21]!==Z||q[22]!==d||q[23]!==y||q[24]!==S||q[25]!==r||q[26]!==i?(N=(0,o.jsxs)(_.O.Header,{onDismiss:Z,children:[r,i,s,d,h,y,S]}),q[21]=Z,q[22]=d,q[23]=y,q[24]=S,q[25]=r,q[26]=i,q[27]=N):N=q[27],q[28]===Symbol.for("react.memo_cache_sentinel")?(D={border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0 0",marginX:3},q[28]=D):D=q[28],q[29]!==ei?(R=ei&&(0,o.jsx)(I,{headerInfo:ei}),q[29]=ei,q[30]=R):R=q[30],q[31]!==ei?(E=ei&&(0,o.jsx)(P,{headerInfo:ei}),q[31]=ei,q[32]=E):E=q[32],q[33]!==R||q[34]!==E?(L=(0,o.jsxs)(O,{children:[R,E]}),q[33]=R,q[34]=E,q[35]=L):L=q[35],q[36]!==eo?(T=eo&&(0,o.jsx)(_.O.ContentExpander,{direction:"above",onExpand:eo}),q[36]=eo,q[37]=T):T=q[37],q[38]!==en||q[39]!==er?(A=(0,o.jsx)(_.O.Content,{children:(0,o.jsx)(C,{lines:er,lineNumbers:en})}),q[38]=en,q[39]=er,q[40]=A):A=q[40],q[41]!==ea?(V=ea&&(0,o.jsx)(_.O.ContentExpander,{direction:"below",onExpand:ea}),q[41]=ea,q[42]=V):V=q[42],q[43]!==L||q[44]!==T||q[45]!==A||q[46]!==V?(B=(0,o.jsxs)(v.az,{sx:D,children:[L,T,A,V]}),q[43]=L,q[44]=T,q[45]=A,q[46]=V,q[47]=B):B=q[47],q[48]!==X.repoName||q[49]!==X.repoOwner?($=(0,p.Do2)({name:X.repoName,ownerLogin:X.repoOwner}),q[48]=X.repoName,q[49]=X.repoOwner,q[50]=$):$=q[50],q[51]!==X.repoName||q[52]!==X.repoOwner||q[53]!==$?(F=(0,o.jsxs)(_.O.DetailLink,{href:$,icon:b.RepoIcon,children:[X.repoOwner,"/",X.repoName]}),q[51]=X.repoName,q[52]=X.repoOwner,q[53]=$,q[54]=F):F=q[54],q[55]!==ee||q[56]!==Q?.range||q[57]!==X.commitOID||q[58]!==X.path||q[59]!==X.repoName||q[60]!==X.repoOwner?(z=ee&&(0,o.jsxs)(_.O.DetailLink,{icon:b.PeopleIcon,href:(0,p.buO)({owner:X.repoOwner,repo:X.repoName,commitish:X.commitOID,filePath:X.path,lineNumber:Q?.range.start}),children:[ee.totalCount," ",1===ee.totalCount?"contributor":"contributors"]}),q[55]=ee,q[56]=Q?.range,q[57]=X.commitOID,q[58]=X.path,q[59]=X.repoName,q[60]=X.repoOwner,q[61]=z):z=q[61],q[62]!==et||q[63]!==X.repoName||q[64]!==X.repoOwner?(M=et&&(0,o.jsxs)(_.O.DetailLink,{icon:b.HistoryIcon,href:(0,p.$Qz)({owner:X.repoOwner,repo:X.repoName,commitish:et?.oid}),children:[et?.author?.displayName," updated ",(0,o.jsx)(w.A,{datetime:et?.date})]}),q[62]=et,q[63]=X.repoName,q[64]=X.repoOwner,q[65]=M):M=q[65],q[66]!==X.range||q[67]!==X.type?(H="snippet"===X.type?(0,o.jsxs)(o.Fragment,{children:["#",X.range.start,"-",X.range.end]}):null,q[66]=X.range,q[67]=X.type,q[68]=H):H=q[68],q[69]!==X.path||q[70]!==X.repoName||q[71]!==X.repoOwner||q[72]!==X.url||q[73]!==H?(U=(0,o.jsxs)(_.O.DetailLink,{icon:b.LinkExternalIcon,href:X.url,children:[X.repoOwner,"/",X.repoName,"/",X.path,H]}),q[69]=X.path,q[70]=X.repoName,q[71]=X.repoOwner,q[72]=X.url,q[73]=H,q[74]=U):U=q[74],q[75]!==F||q[76]!==z||q[77]!==M||q[78]!==U?(W=(0,o.jsxs)(_.O.Details,{children:[F,z,M,U]}),q[75]=F,q[76]=z,q[77]=M,q[78]=U,q[79]=W):W=q[79],q[80]!==K||q[81]!==Y||q[82]!==B||q[83]!==W?(G=(0,o.jsxs)(_.O.Body,{detailsError:K,detailsLoading:Y,children:[B,W]}),q[80]=K,q[81]=Y,q[82]=B,q[83]=W,q[84]=G):G=q[84],q[85]!==N||q[86]!==G?(J=(0,o.jsxs)(_.O.Frame,{children:[N,G]}),q[85]=N,q[86]=G,q[87]=J):J=q[87],J}function O(e){let t,r,n=(0,a.c)(3),{children:i}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(t={p:2,display:"flex",flex:1,alignItems:"center",justifyContent:"space-between",backgroundColor:"canvas.subtle",borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0px 0px"},n[0]=t):t=n[0],n[1]!==i?(r=(0,o.jsx)(v.az,{sx:t,children:i}),n[1]=i,n[2]=r):r=n[2],r}function I(e){let t,r,n,i=(0,a.c)(6),{headerInfo:s}=e;i[0]===Symbol.for("react.memo_cache_sentinel")?(t={maxWidth:"100%",color:"fg.subtle"},i[0]=t):t=i[0];let l=`${s.lineInfo.truncatedLoc} lines (${s.lineInfo.truncatedSloc} loc) \xb7 ${s.blobSize}`;return i[1]!==l?(r=(0,o.jsx)("span",{children:l}),i[1]=l,i[2]=r):r=i[2],i[3]!==s.blobSize||i[4]!==r?(n=(0,o.jsx)(v.PA,{title:s.blobSize,inline:!0,sx:t,"data-testid":"blob-size",children:r}),i[3]=s.blobSize,i[4]=r,i[5]=n):n=i[5],n}function P(e){let t,r=(0,a.c)(17),{headerInfo:n}=e;if(r[0]!==n.displayName||r[1]!==n.isLfs||r[2]!==n.rawBlobUrl||r[3]!==n.viewable){let e,a,i,s,l,c,d=new URL(n.rawBlobUrl,f.fV.origin);d.searchParams.set("download",""),r[5]!==n.displayName||r[6]!==n.isLfs||r[7]!==n.rawBlobUrl?(e=async()=>{n.isLfs||await R(n.rawBlobUrl,n.displayName)},r[5]=n.displayName,r[6]=n.isLfs,r[7]=n.rawBlobUrl,r[8]=e):e=r[8],r[9]===Symbol.for("react.memo_cache_sentinel")?(a={borderTopLeftRadius:0,borderBottomLeftRadius:0},r[9]=a):a=r[9],r[10]!==e?(i={"aria-label":"Download raw content",icon:b.DownloadIcon,size:"small",onClick:e,"data-testid":"download-raw-button",sx:a},r[10]=e,r[11]=i):i=r[11];let h=i;r[12]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex"},r[12]=s):s=r[12];let u=n.viewable?void 0:"true";r[13]===Symbol.for("react.memo_cache_sentinel")?(l={linkButtonSx:D,px:2,borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:"none"},r[13]=l):l=r[13],r[14]!==n.rawBlobUrl||r[15]!==u?(c=(0,o.jsx)(v.z9,{href:n.rawBlobUrl,download:u,size:"small",sx:l,"data-testid":"raw-button",children:"Raw"}),r[14]=n.rawBlobUrl,r[15]=u,r[16]=c):c=r[16],t=(0,o.jsxs)(v.az,{sx:s,children:[c,n.isLfs?(0,o.jsx)(y.K,{unsafeDisableTooltip:!0,as:"a","data-turbo":"false",href:d.toString(),...h}):(0,o.jsx)(y.K,{unsafeDisableTooltip:!0,...h})]}),r[0]=n.displayName,r[1]=n.isLfs,r[2]=n.rawBlobUrl,r[3]=n.viewable,r[4]=t}else t=r[4];return t}let k=25,D={"&:hover:not([disabled])":{textDecoration:"none"},"&:focus:not([disabled])":{textDecoration:"none"},"&:active:not([disabled])":{textDecoration:"none"}};async function R(e,t){let r=await fetch(e,{method:"get"}),n=await r.blob(),o=document.createElement("a");o.setAttribute("download",t);let a=URL.createObjectURL(n);o.href=a,o.setAttribute("target","_blank"),o.click(),URL.revokeObjectURL(a)}try{N.displayName||(N.displayName="CodeReferencePreview")}catch{}try{O.displayName||(O.displayName="BlobPreviewHeader")}catch{}try{I.displayName||(I.displayName="BlobSize")}catch{}try{P.displayName||(P.displayName="RawButtons")}catch{}var E=r(30729),L=r(4817);function T(e){let t,r,n,i,s,l,c,d,h,m,f,g,x,w,y,j,S,C,N,O=(0,a.c)(45),{reference:I,detailsLoading:P,detailsError:k,onDismiss:D}=e;O[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(E.A,{icon:b.GitCommitIcon,sx:{mr:2}}),O[0]=t):t=O[0],O[1]===Symbol.for("react.memo_cache_sentinel")?(r={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},O[1]=r):r=O[1],O[2]!==I.message?(n=(0,o.jsx)(v.az,{sx:r,children:I.message}),O[2]=I.message,O[3]=n):n=O[3],O[4]!==D||O[5]!==n?(i=(0,o.jsxs)(_.O.Header,{onDismiss:D,children:[t,n]}),O[4]=D,O[5]=n,O[6]=i):i=O[6],O[7]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",flexDirection:"row",p:3},O[7]=s):s=O[7];let R=`${I.author.login}.png`;return O[8]===Symbol.for("react.memo_cache_sentinel")?(l={mr:2,flexShrink:0},O[8]=l):l=O[8],O[9]!==R?(c=(0,o.jsx)(u.r,{src:R,sx:l}),O[9]=R,O[10]=c):c=O[10],O[11]===Symbol.for("react.memo_cache_sentinel")?(d={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},O[11]=d):d=O[11],O[12]!==I.author.login?(h=(0,o.jsx)(v.az,{sx:d,children:I.author.login}),O[12]=I.author.login,O[13]=h):h=O[13],O[14]!==h||O[15]!==c?(m=(0,o.jsxs)(v.az,{sx:s,children:[c,h]}),O[14]=h,O[15]=c,O[16]=m):m=O[16],O[17]===Symbol.for("react.memo_cache_sentinel")?(f=(0,o.jsx)(v.az,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),O[17]=f):f=O[17],O[18]!==I.message?(g=(0,o.jsx)(_.O.Content,{children:(0,o.jsx)(L.To,{markdown:I.message})}),O[18]=I.message,O[19]=g):g=O[19],O[20]===Symbol.for("react.memo_cache_sentinel")?(x=(0,o.jsx)(v.az,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),O[20]=x):x=O[20],O[21]!==I.repository.name||O[22]!==I.repository.owner?(w=(0,p.Do2)({name:I.repository.name,ownerLogin:I.repository.owner}),O[21]=I.repository.name,O[22]=I.repository.owner,O[23]=w):w=O[23],O[24]!==I.repository.name||O[25]!==I.repository.owner||O[26]!==w?(y=(0,o.jsxs)(_.O.DetailLink,{href:w,icon:b.RepoIcon,children:[I.repository.owner,"/",I.repository.name]}),O[24]=I.repository.name,O[25]=I.repository.owner,O[26]=w,O[27]=y):y=O[27],O[28]!==I.oid||O[29]!==I.permalink||O[30]!==I.repository.name||O[31]!==I.repository.owner?(j=(0,o.jsxs)(_.O.DetailLink,{href:I.permalink,icon:b.LinkExternalIcon,children:[I.repository.owner,"/",I.repository.name,"/commit/",I.oid]}),O[28]=I.oid,O[29]=I.permalink,O[30]=I.repository.name,O[31]=I.repository.owner,O[32]=j):j=O[32],O[33]!==y||O[34]!==j?(S=(0,o.jsxs)(_.O.Details,{children:[y,j]}),O[33]=y,O[34]=j,O[35]=S):S=O[35],O[36]!==k||O[37]!==P||O[38]!==m||O[39]!==g||O[40]!==S?(C=(0,o.jsxs)(_.O.Body,{detailsError:k,detailsLoading:P,children:[m,f,g,x,S]}),O[36]=k,O[37]=P,O[38]=m,O[39]=g,O[40]=S,O[41]=C):C=O[41],O[42]!==C||O[43]!==i?(N=(0,o.jsxs)(_.O.Frame,{children:[i,C]}),O[42]=C,O[43]=i,O[44]=N):N=O[44],N}try{T.displayName||(T.displayName="CommitReferencePreview")}catch{}var A=r(53037);let V={SegmentedControl:"MarkdownReferencePreview-module__SegmentedControl--Q7TCz"};function B(e){let t,r,n,i,s,l,c,d,h,f,y,j,S,C,N,O,I,P,k,D,R,E,L=(0,a.c)(65),{reference:T,details:A,detailsLoading:V,detailsError:B,onDismiss:F}=e,{contributors:z}=(0,g.u)(T.repoOwner,T.repoName,T.commitOID,T.path),[M]=(0,x.E)(T.repoOwner,T.repoName,T.commitOID,T.path),H=A?.repoIsOrgOwned,U=`${T.repoOwner}.png`;return L[0]===Symbol.for("react.memo_cache_sentinel")?(t={mr:2,flexShrink:0},L[0]=t):t=L[0],L[1]!==H||L[2]!==U?(r=(0,o.jsx)(u.r,{square:H,src:U,sx:t}),L[1]=H,L[2]=U,L[3]=r):r=L[3],L[4]===Symbol.for("react.memo_cache_sentinel")?(n={fontWeight:600,whiteSpace:"nowrap"},L[4]=n):n=L[4],L[5]!==T.repoName||L[6]!==T.repoOwner?(i=(0,o.jsxs)(v.EY,{sx:n,children:[T.repoOwner,"/",T.repoName]}),L[5]=T.repoName,L[6]=T.repoOwner,L[7]=i):i=L[7],L[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,o.jsx)(v.EY,{sx:{marginX:1},children:"\xb7"}),L[8]=s):s=L[8],L[9]===Symbol.for("react.memo_cache_sentinel")?(l={fontWeight:400},L[9]=l):l=L[9],L[10]!==T.ref?(c=(0,m.gE)(T.ref),L[10]=T.ref,L[11]=c):c=L[11],L[12]!==c?(d=(0,o.jsx)(v.EY,{sx:l,children:c}),L[12]=c,L[13]=d):d=L[13],L[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,o.jsx)(v.EY,{sx:{marginX:1},children:"\xb7"}),L[14]=h):h=L[14],L[15]===Symbol.for("react.memo_cache_sentinel")?(f={fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},L[15]=f):f=L[15],L[16]!==T.path?(y=(0,o.jsx)(v.EY,{sx:f,children:T.path}),L[16]=T.path,L[17]=y):y=L[17],L[18]!==F||L[19]!==d||L[20]!==y||L[21]!==r||L[22]!==i?(j=(0,o.jsxs)(_.O.Header,{onDismiss:F,children:[r,i,s,d,h,y]}),L[18]=F,L[19]=d,L[20]=y,L[21]=r,L[22]=i,L[23]=j):j=L[23],L[24]!==A?(S=A&&(0,o.jsx)($,{details:A}),L[24]=A,L[25]=S):S=L[25],L[26]!==T.repoName||L[27]!==T.repoOwner?(C=(0,p.Do2)({name:T.repoName,ownerLogin:T.repoOwner}),L[26]=T.repoName,L[27]=T.repoOwner,L[28]=C):C=L[28],L[29]!==T.repoName||L[30]!==T.repoOwner||L[31]!==C?(N=(0,o.jsxs)(_.O.DetailLink,{href:C,icon:b.RepoIcon,children:[T.repoOwner,"/",T.repoName]}),L[29]=T.repoName,L[30]=T.repoOwner,L[31]=C,L[32]=N):N=L[32],L[33]!==z||L[34]!==A?.range||L[35]!==T.commitOID||L[36]!==T.path||L[37]!==T.repoName||L[38]!==T.repoOwner?(O=z&&(0,o.jsxs)(_.O.DetailLink,{icon:b.PeopleIcon,href:(0,p.buO)({owner:T.repoOwner,repo:T.repoName,commitish:T.commitOID,filePath:T.path,lineNumber:A?.range.start}),children:[z.totalCount," contributors"]}),L[33]=z,L[34]=A?.range,L[35]=T.commitOID,L[36]=T.path,L[37]=T.repoName,L[38]=T.repoOwner,L[39]=O):O=L[39],L[40]!==M||L[41]!==T.repoName||L[42]!==T.repoOwner?(I=M&&(0,o.jsxs)(_.O.DetailLink,{icon:b.HistoryIcon,href:(0,p.$Qz)({owner:T.repoOwner,repo:T.repoName,commitish:M?.oid}),children:[M?.author?.displayName," updated ",(0,o.jsx)(w.A,{datetime:M?.date})]}),L[40]=M,L[41]=T.repoName,L[42]=T.repoOwner,L[43]=I):I=L[43],L[44]!==A?(P=A?(0,o.jsxs)(o.Fragment,{children:["#",A.range.start,"-",A.range.end]}):null,L[44]=A,L[45]=P):P=L[45],L[46]!==T.path||L[47]!==T.repoName||L[48]!==T.repoOwner||L[49]!==T.url||L[50]!==P?(k=(0,o.jsxs)(_.O.DetailLink,{icon:b.LinkExternalIcon,href:T.url,children:[T.repoOwner,"/",T.repoName,"/",T.path,P]}),L[46]=T.path,L[47]=T.repoName,L[48]=T.repoOwner,L[49]=T.url,L[50]=P,L[51]=k):k=L[51],L[52]!==N||L[53]!==O||L[54]!==I||L[55]!==k?(D=(0,o.jsxs)(_.O.Details,{children:[N,O,I,k]}),L[52]=N,L[53]=O,L[54]=I,L[55]=k,L[56]=D):D=L[56],L[57]!==B||L[58]!==V||L[59]!==S||L[60]!==D?(R=(0,o.jsxs)(_.O.Body,{detailsLoading:V,detailsError:B,children:[S,D]}),L[57]=B,L[58]=V,L[59]=S,L[60]=D,L[61]=R):R=L[61],L[62]!==j||L[63]!==R?(E=(0,o.jsxs)(_.O.Frame,{children:[j,R]}),L[62]=j,L[63]=R,L[64]=E):E=L[64],E}function $(e){let t,r,n,i,s,l,c,d,h,u,p,m,f,g,x,b,w,y,S=(0,a.c)(51),{details:C}=e,[N,k]=(0,j.useState)(C.range.start),[D,R]=(0,j.useState)(C.range.end);t=z(C.contents,C.contents.length);let[E,T]=(0,j.useState)("preview");S[0]!==E?(r=e=>{let t=["preview","code"][e];t&&E!==t&&T(t)},S[0]=E,S[1]=r):r=S[1];let B=r,$=C?.headerInfo;S[2]!==C.contents||S[3]!==N?(n=()=>{k(function(e,t){let r=M(e,t),n=function(e){let t;for(let r of e)t=r;return t}(e.slice(0,r).matchAll(/^#+\s/gm));return z(e,n?.index??0)}(C.contents,N))},S[2]=C.contents,S[3]=N,S[4]=n):n=S[4];let H=n;S[5]!==C.contents||S[6]!==D||S[7]!==t?(i=()=>{let e=D;for(;e<t&&e<D+10;)e=function(e,t){let r=M(e,t),n=e.slice(r).match(/^#+\s/m),o=n?r+n.index:e.length;return z(e,o)}(C.contents,e+1);R(e-1)},S[5]=C.contents,S[6]=D,S[7]=t,S[8]=i):i=S[8];let U=i,W=C.contents;if(N){let e;if(S[9]!==D||S[10]!==W||S[11]!==N){let e=function(e,t,r=t-1){let n=-1,o=-1,a=-1;for(let i=1;;i++){if(i===t&&(o=n+1),i===r+1){a=n;break}if(-1===(n=e.indexOf(`
`,n+1)))break}return{startIndex:o,endIndex:a}}(W,N,D);e.endIndex>-1&&(W=W.slice(e.startIndex,e.endIndex)),S[9]=D,S[10]=W,S[11]=N,S[12]=W}else W=S[12];S[13]!==W?(e=W.replace(/^---\n[\s\S]*?\n---\n/,""),S[13]=W,S[14]=e):e=S[14],W=e}s=W,S[15]===Symbol.for("react.memo_cache_sentinel")?(l={border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0 0",marginX:3},S[15]=l):l=S[15],S[16]===Symbol.for("react.memo_cache_sentinel")?(c={display:"flex",alignItems:"baseline",gap:2},S[16]=c):c=S[16];let G="preview"===E;S[17]!==G?(d=(0,o.jsx)(A.I.Button,{selected:G,children:"Preview"},"preview'"),S[17]=G,S[18]=d):d=S[18];let J="code"===E;return S[19]!==J?(h=(0,o.jsx)(A.I.Button,{selected:J,children:"Code"},"raw"),S[19]=J,S[20]=h):h=S[20],S[21]!==B||S[22]!==h||S[23]!==d?(u=(0,o.jsxs)(A.I,{"aria-label":"File view",size:"small",onChange:B,className:V.SegmentedControl,children:[d,h]}),S[21]=B,S[22]=h,S[23]=d,S[24]=u):u=S[24],S[25]!==$?(p=$&&(0,o.jsx)(I,{headerInfo:$}),S[25]=$,S[26]=p):p=S[26],S[27]!==u||S[28]!==p?(m=(0,o.jsxs)(v.az,{sx:c,children:[u,p]}),S[27]=u,S[28]=p,S[29]=m):m=S[29],S[30]!==$?(f=$&&(0,o.jsx)(P,{headerInfo:$}),S[30]=$,S[31]=f):f=S[31],S[32]!==m||S[33]!==f?(g=(0,o.jsxs)(O,{children:[m,f]}),S[32]=m,S[33]=f,S[34]=g):g=S[34],S[35]!==H||S[36]!==N?(x=N>1&&(0,o.jsx)(_.O.ContentExpander,{direction:"above",onExpand:H}),S[35]=H,S[36]=N,S[37]=x):x=S[37],S[38]!==C.contents||S[39]!==E||S[40]!==s?(b=(0,o.jsx)(_.O.Content,{children:"preview"===E?(0,o.jsx)(v.az,{className:"js-snippet-clipboard-copy-unpositioned",sx:{".highlighted":{backgroundColor:F}},children:(0,o.jsx)(L.To,{markdown:s,openLinksInCurrentTab:!1})}):(0,o.jsx)("code",{children:(0,o.jsx)(v.az,{as:"pre",sx:{overflowX:"auto"},children:C.contents})})}),S[38]=C.contents,S[39]=E,S[40]=s,S[41]=b):b=S[41],S[42]!==D||S[43]!==U||S[44]!==t?(w=D<t&&(0,o.jsx)(_.O.ContentExpander,{direction:"below",onExpand:U}),S[42]=D,S[43]=U,S[44]=t,S[45]=w):w=S[45],S[46]!==g||S[47]!==x||S[48]!==b||S[49]!==w?(y=(0,o.jsxs)(v.az,{sx:l,children:[g,x,b,w]}),S[46]=g,S[47]=x,S[48]=b,S[49]=w,S[50]=y):y=S[50],y}function F(e){return`${e.colors.accent.subtle}`}function z(e,t){return function(e){let t=0;for(let r of e)t++;return t}(e.slice(0,t).matchAll(/\n/g))+1}function M(e,t){if(1===t)return 0;let r=-1;for(let n=2;n<=t;n++)if(-1===(r=e.indexOf(`
`,r+1)))return e.length;return r+1}try{B.displayName||(B.displayName="MarkdownReferencePreview")}catch{}try{$.displayName||($.displayName="MarkdownReferencePreviewContent")}catch{}function H(e){let t,r,n,i,s,l,c,d,h,m,f,g,x,w,y,j,S,C,N,O=(0,a.c)(42),{reference:I,detailsLoading:P,detailsError:k,onDismiss:D}=e;O[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(E.A,{icon:b.GitCommitIcon,sx:{mr:2}}),O[0]=t):t=O[0],O[1]===Symbol.for("react.memo_cache_sentinel")?(r={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},O[1]=r):r=O[1],O[2]!==I.title?(n=(0,o.jsx)(v.az,{sx:r,children:I.title}),O[2]=I.title,O[3]=n):n=O[3],O[4]!==D||O[5]!==n?(i=(0,o.jsxs)(_.O.Header,{onDismiss:D,children:[t,n]}),O[4]=D,O[5]=n,O[6]=i):i=O[6],O[7]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",flexDirection:"row",p:3},O[7]=s):s=O[7];let R=`${I.authorLogin}.png`;return O[8]===Symbol.for("react.memo_cache_sentinel")?(l={mr:2,flexShrink:0},O[8]=l):l=O[8],O[9]!==R?(c=(0,o.jsx)(u.r,{src:R,sx:l}),O[9]=R,O[10]=c):c=O[10],O[11]===Symbol.for("react.memo_cache_sentinel")?(d={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},O[11]=d):d=O[11],O[12]!==I.authorLogin?(h=(0,o.jsx)(v.az,{sx:d,children:I.authorLogin}),O[12]=I.authorLogin,O[13]=h):h=O[13],O[14]!==h||O[15]!==c?(m=(0,o.jsxs)(v.az,{sx:s,children:[c,h]}),O[14]=h,O[15]=c,O[16]=m):m=O[16],O[17]===Symbol.for("react.memo_cache_sentinel")?(f=(0,o.jsx)(v.az,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),O[17]=f):f=O[17],O[18]!==I.title?(g=(0,o.jsx)(_.O.Content,{children:(0,o.jsx)(L.To,{markdown:I.title})}),O[18]=I.title,O[19]=g):g=O[19],O[20]===Symbol.for("react.memo_cache_sentinel")?(x=(0,o.jsx)(v.az,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),O[20]=x):x=O[20],O[21]!==I.repository.name||O[22]!==I.repository.ownerLogin?(w=(0,p.Do2)({name:I.repository.name,ownerLogin:I.repository.ownerLogin}),O[21]=I.repository.name,O[22]=I.repository.ownerLogin,O[23]=w):w=O[23],O[24]!==I.repository.name||O[25]!==I.repository.ownerLogin||O[26]!==w?(y=(0,o.jsxs)(_.O.DetailLink,{href:w,icon:b.RepoIcon,children:[I.repository.ownerLogin,"/",I.repository.name]}),O[24]=I.repository.name,O[25]=I.repository.ownerLogin,O[26]=w,O[27]=y):y=O[27],O[28]!==I.url?(j=(0,o.jsx)(_.O.DetailLink,{href:I.url,icon:b.LinkExternalIcon,children:I.url}),O[28]=I.url,O[29]=j):j=O[29],O[30]!==y||O[31]!==j?(S=(0,o.jsxs)(_.O.Details,{children:[y,j]}),O[30]=y,O[31]=j,O[32]=S):S=O[32],O[33]!==k||O[34]!==P||O[35]!==m||O[36]!==g||O[37]!==S?(C=(0,o.jsxs)(_.O.Body,{detailsError:k,detailsLoading:P,children:[m,f,g,x,S]}),O[33]=k,O[34]=P,O[35]=m,O[36]=g,O[37]=S,O[38]=C):C=O[38],O[39]!==C||O[40]!==i?(N=(0,o.jsxs)(_.O.Frame,{children:[i,C]}),O[39]=C,O[40]=i,O[41]=N):N=O[41],N}try{H.displayName||(H.displayName="PullRequestReferencePreview")}catch{}function U(e){let t,r,n,i,s=(0,a.c)(20),{reference:l,details:c,detailsLoading:d,detailsError:h,onDismiss:u}=e,m=new Map,f=new Map;if(c?.kind==="suggestionSymbol")for(let e of c.suggestionDefinitions??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;m.has(t)||m.set(t,[]),m.get(t).push(e)}else if(c?.kind==="codeNavSymbol"){for(let e of c.codeNavDefinitions??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;m.has(t)||m.set(t,[]),m.get(t).push(e)}for(let e of c?.codeNavReferences??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;f.has(t)||f.set(t,[]),f.get(t).push(e)}}let y=[...m.values()][0]?.[0]??[...f.values()][0]?.[0],v=m.size>0,j=f.size>0,S=[...m.values()].length,C=[...m.values()].reduce(X,0),N=[...f.values()].length,O=[...f.values()].reduce(q,0),{contributors:I}=(0,g.u)(y?.repoOwner,y?.repoName,y?.commitOID,y?.path),[P]=(0,x.E)(y?.repoOwner,y?.repoName,y?.commitOID,y?.path),k=_.O;s[0]!==u||s[1]!==l.name?(t=(0,o.jsx)(_.O.Header,{onDismiss:u,children:l.name}),s[0]=u,s[1]=l.name,s[2]=t):t=s[2];let D=_.O,R=v&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(_.O.SectionDivider,{children:[C," ",1===C?"definition":"definitions",S>1?` across ${S} files`:null]}),[...m.values()].map(G)]}),E=j&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(_.O.SectionDivider,{children:[O," ",1===O?"reference":"references",N>1?` across ${N} files`:null]}),[...f.values()].map((e,t)=>(0,o.jsx)(_.O.CollapsibleSubsection,{title:e[0].path,initiallyOpen:0===t&&!v,children:(0,o.jsx)(_.O.Content,{children:e.map(W)})},e[0].path))]}),L=_.O,T=y&&(0,o.jsxs)(_.O.DetailLink,{href:(0,p.Do2)({name:y.repoName,ownerLogin:y.repoOwner}),icon:b.RepoIcon,children:[y.repoOwner,"/",y.repoName]}),A=I&&y&&(0,o.jsxs)(_.O.DetailLink,{icon:b.PeopleIcon,href:(0,p.buO)({owner:y.repoOwner,repo:y.repoName,commitish:y.commitOID,filePath:y.path}),children:[I.totalCount," ",1===I.totalCount?"contributor":"contributors"]}),V=P&&y&&(0,o.jsxs)(_.O.DetailLink,{icon:b.HistoryIcon,href:(0,p.$Qz)({owner:y.repoOwner,repo:y.repoName,commitish:P?.oid}),children:[P?.author?.displayName," updated ",(0,o.jsx)(w.A,{datetime:P?.date})]}),B=y&&(0,o.jsxs)(_.O.DetailLink,{icon:b.LinkExternalIcon,href:(0,p.nD_)({owner:y.repoOwner,repo:y.repoName,commitish:y.commitOID,filePath:y.path}),children:[y.repoOwner,"/",y.repoName,"/",y.path]});return s[3]!==B||s[4]!==L.Details||s[5]!==T||s[6]!==A||s[7]!==V?(r=(0,o.jsxs)(L.Details,{children:[T,A,V,B]}),s[3]=B,s[4]=L.Details,s[5]=T,s[6]=A,s[7]=V,s[8]=r):r=s[8],s[9]!==h||s[10]!==d||s[11]!==r||s[12]!==D.Body||s[13]!==R||s[14]!==E?(n=(0,o.jsxs)(D.Body,{detailsError:h,detailsLoading:d,children:[R,E,r]}),s[9]=h,s[10]=d,s[11]=r,s[12]=D.Body,s[13]=R,s[14]=E,s[15]=n):n=s[15],s[16]!==k.Frame||s[17]!==n||s[18]!==t?(i=(0,o.jsxs)(k.Frame,{children:[t,n]}),s[16]=k.Frame,s[17]=n,s[18]=t,s[19]=i):i=s[19],i}function W(e,t){return e.highlightedContents?(0,o.jsx)(C,{trimLineBeginnings:1===e.highlightedContents.length,lines:e.highlightedContents,lineNumbers:Q(e)},t):null}function G(e,t){return(0,o.jsx)(_.O.CollapsibleSubsection,{title:e[0].path,initiallyOpen:0===t,children:(0,o.jsx)(_.O.Content,{children:e.map(J)})},e[0].path)}function J(e,t){return e.highlightedContents?(0,o.jsx)(C,{trimLineBeginnings:1===e.highlightedContents.length,lines:e.highlightedContents,lineNumbers:Q(e)},t):null}function q(e,t){return e+t.length}function X(e,t){return e+t.length}function Q({range:e}){return e?Array(e.end-e.start+1).fill(null).map((t,r)=>e.start+r):[]}try{U.displayName||(U.displayName="SymbolReferencePreview")}catch{}function Y(e){let t,r,n,i,s,l,c,d,h,m,f,y,j,S,C=(0,a.c)(48),{reference:N,details:O,detailsLoading:I,detailsError:P,onDismiss:k}=e,D=N.headFile??N.baseFile,{contributors:R}=(0,g.u)(D.repoOwner,D.repoName,D.commitOID,D.path),[E]=(0,x.E)(D.repoOwner,D.repoName,D.commitOID,D.path);C[0]!==N?(t=(e=>{let t,r=(t=e.selectedRange,t?.start?t.end?`${t.start}-${t.end}`:`${t.start}`:""),n=e.url.split(window.location.host)[1];return{href:e.url+r,path:n+r,range:r}})(N),C[0]=N,C[1]=t):t=C[1];let{href:L,path:T,range:A}=t,V=O?.repoIsOrgOwned,B=`${D.repoOwner}.png`;return C[2]===Symbol.for("react.memo_cache_sentinel")?(r={mr:2,flexShrink:0},C[2]=r):r=C[2],C[3]!==V||C[4]!==B?(n=(0,o.jsx)(u.r,{square:V,src:B,sx:r}),C[3]=V,C[4]=B,C[5]=n):n=C[5],C[6]===Symbol.for("react.memo_cache_sentinel")?(i={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},C[6]=i):i=C[6],C[7]!==D.path||C[8]!==D.repoName||C[9]!==D.repoOwner||C[10]!==A?(s=(0,o.jsxs)(v.az,{sx:i,children:[D.repoOwner,"/",D.repoName,"/",D.path," ",A]}),C[7]=D.path,C[8]=D.repoName,C[9]=D.repoOwner,C[10]=A,C[11]=s):s=C[11],C[12]!==k||C[13]!==n||C[14]!==s?(l=(0,o.jsxs)(_.O.Header,{onDismiss:k,children:[n,s]}),C[12]=k,C[13]=n,C[14]=s,C[15]=l):l=C[15],C[16]!==D.repoName||C[17]!==D.repoOwner?(c=(0,p.Do2)({name:D.repoName,ownerLogin:D.repoOwner}),C[16]=D.repoName,C[17]=D.repoOwner,C[18]=c):c=C[18],C[19]!==D.repoName||C[20]!==D.repoOwner||C[21]!==c?(d=(0,o.jsxs)(_.O.DetailLink,{href:c,icon:b.RepoIcon,children:[D.repoOwner,"/",D.repoName]}),C[19]=D.repoName,C[20]=D.repoOwner,C[21]=c,C[22]=d):d=C[22],C[23]!==D.commitOID||C[24]!==D.path||C[25]!==D.repoName||C[26]!==D.repoOwner||C[27]!==R?(h=R&&(0,o.jsxs)(_.O.DetailLink,{icon:b.PeopleIcon,href:(0,p.buO)({owner:D.repoOwner,repo:D.repoName,commitish:D.commitOID,filePath:D.path}),children:[R.totalCount," ",1===R.totalCount?"contributor":"contributors"]}),C[23]=D.commitOID,C[24]=D.path,C[25]=D.repoName,C[26]=D.repoOwner,C[27]=R,C[28]=h):h=C[28],C[29]!==D.repoName||C[30]!==D.repoOwner||C[31]!==E?(m=E&&(0,o.jsxs)(_.O.DetailLink,{icon:b.HistoryIcon,href:(0,p.$Qz)({owner:D.repoOwner,repo:D.repoName,commitish:E?.oid}),children:[E?.author?.displayName," updated ",(0,o.jsx)(w.A,{datetime:E?.date})]}),C[29]=D.repoName,C[30]=D.repoOwner,C[31]=E,C[32]=m):m=C[32],C[33]!==L||C[34]!==T?(f=(0,o.jsx)(_.O.DetailLink,{icon:b.LinkExternalIcon,href:L,children:T}),C[33]=L,C[34]=T,C[35]=f):f=C[35],C[36]!==d||C[37]!==h||C[38]!==m||C[39]!==f?(y=(0,o.jsxs)(_.O.Details,{children:[d,h,m,f]}),C[36]=d,C[37]=h,C[38]=m,C[39]=f,C[40]=y):y=C[40],C[41]!==P||C[42]!==I||C[43]!==y?(j=(0,o.jsx)(_.O.Body,{detailsError:P,detailsLoading:I,children:y}),C[41]=P,C[42]=I,C[43]=y,C[44]=j):j=C[44],C[45]!==j||C[46]!==l?(S=(0,o.jsxs)(_.O.Frame,{children:[l,j]}),C[45]=j,C[46]=l,C[47]=S):S=C[47],S}try{Y.displayName||(Y.displayName="FileDiffReferencePreview")}catch{}var K=r(41738);function Z(e){let t,r=(0,a.c)(6),{dismissable:n}=e,{reference:i,details:s,detailsLoading:l,detailsError:c,dismissReference:d}=et(),h=n?d:void 0;return r[0]!==s||r[1]!==c||r[2]!==l||r[3]!==i||r[4]!==h?(t=(0,o.jsx)(ee,{reference:i,details:s,detailsLoading:l,detailsError:c,onDismiss:h}),r[0]=s,r[1]=c,r[2]=l,r[3]=i,r[4]=h,r[5]=t):t=r[5],t}function ee(e){let t=(0,a.c)(46),{reference:r,details:n,detailsLoading:i,detailsError:s,onDismiss:l}=e;switch(r.type){case"symbol":{let e,a;return t[0]!==r?(e=(0,d.Vb)(r),t[0]=r,t[1]=e):e=t[1],t[2]!==s||t[3]!==i||t[4]!==l||t[5]!==r||t[6]!==e||t[7]!==n?(a=(0,o.jsx)(U,{reference:r,details:n,detailsLoading:i,detailsError:s,onDismiss:l},e),t[2]=s,t[3]=i,t[4]=l,t[5]=r,t[6]=e,t[7]=n,t[8]=a):a=t[8],a}case"file":case"snippet":{let e;return t[9]!==n||t[10]!==s||t[11]!==i||t[12]!==l||t[13]!==r?(e="Markdown"===r.languageName?(0,o.jsx)(B,{reference:r,details:n,detailsError:s,detailsLoading:i,onDismiss:l},(0,d.Vb)(r)):(0,o.jsx)(N,{reference:r,details:n,detailsLoading:i,detailsError:s,onDismiss:l},(0,d.Vb)(r)),t[9]=n,t[10]=s,t[11]=i,t[12]=l,t[13]=r,t[14]=e):e=t[14],e}case"file-diff":{let e,a;return t[15]!==r?(e=(0,d.Vb)(r),t[15]=r,t[16]=e):e=t[16],t[17]!==s||t[18]!==i||t[19]!==l||t[20]!==r||t[21]!==e||t[22]!==n?(a=(0,o.jsx)(Y,{reference:r,details:n,detailsLoading:i,detailsError:s,onDismiss:l},e),t[17]=s,t[18]=i,t[19]=l,t[20]=r,t[21]=e,t[22]=n,t[23]=a):a=t[23],a}case"commit":{let e,n;return t[24]!==r?(e=(0,d.Vb)(r),t[24]=r,t[25]=e):e=t[25],t[26]!==s||t[27]!==i||t[28]!==l||t[29]!==r||t[30]!==e?(n=(0,o.jsx)(T,{reference:r,detailsLoading:i,detailsError:s,onDismiss:l},e),t[26]=s,t[27]=i,t[28]=l,t[29]=r,t[30]=e,t[31]=n):n=t[31],n}case"pull-request":{let e,n;return t[32]!==r?(e=(0,d.Vb)(r),t[32]=r,t[33]=e):e=t[33],t[34]!==s||t[35]!==i||t[36]!==l||t[37]!==r||t[38]!==e?(n=(0,o.jsx)(H,{reference:r,detailsLoading:i,detailsError:s,onDismiss:l},e),t[34]=s,t[35]=i,t[36]=l,t[37]=r,t[38]=e,t[39]=n):n=t[39],n}case"web-search":{let e,n;return t[40]!==r?(e=(0,d.Vb)(r),t[40]=r,t[41]=e):e=t[41],t[42]!==l||t[43]!==r||t[44]!==e?(n=(0,o.jsx)(K.I,{reference:r,onDismiss:l},e),t[42]=l,t[43]=r,t[44]=e,t[45]=n):n=t[45],n}default:return null}}function et(){let e,t,r,n,o,i,s=(0,a.c)(19),u=(0,c.b)(),p=(0,l.Pk)().selectedReference,m=p?.type;s[0]!==p?(e=p?(0,d.Vb)(p):void 0,s[0]=p,s[1]=e):e=s[1],s[2]!==m||s[3]!==e?(t=["copilot-reference-preview","copilot","references",m,e],s[2]=m,s[3]=e,s[4]=t):t=s[4],s[5]!==u||s[6]!==p?(r=async()=>{if(!p)return null;let e=await u.service.hydrateReference(p);return e.ok?e.payload:null},s[5]=u,s[6]=p,s[7]=r):r=s[7],s[8]!==t||s[9]!==r?(n={queryKey:t,queryFn:r,staleTime:5e-324},s[8]=t,s[9]=r,s[10]=n):n=s[10];let{isLoading:f,isError:g,data:x}=(0,h.I)(n);s[11]!==u?(o=()=>u.selectReference(null),s[11]=u,s[12]=o):o=s[12];let b=o,w=x??void 0;return s[13]!==b||s[14]!==g||s[15]!==f||s[16]!==p||s[17]!==w?(i={reference:p,dismissReference:b,details:w,detailsLoading:f,detailsError:g},s[13]=b,s[14]=g,s[15]=f,s[16]=p,s[17]=w,s[18]=i):i=s[18],i}try{Z.displayName||(Z.displayName="CopilotReferencePreview")}catch{}try{ee.displayName||(ee.displayName="CopilotReferencePreviewImpl")}catch{}function er(){var e;let t,r,n,l,c,d=(0,a.c)(13),{dismissReference:h,reference:u}=et(),{screenSize:p}=(0,s.lm)(),m=p<s.Gy.large;d[0]!==u?(e=u,t=e?.type==="web-search"?`Bing search results for "${e.query}"`:"Reference",d[0]=u,d[1]=t):t=d[1];let f=t,g=!!u;return d[2]!==m?(r={display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:"var(--borderRadius-large)",margin:0,...m?{height:["auto","auto"],top:"1dvh",width:"90dvw"}:{top:"10vh",width:"50dvw",maxWidth:"1024px"}},d[2]=m,d[3]=r):r=d[3],d[4]!==f?(n=(0,o.jsx)(i.A.Header,{children:f}),d[4]=f,d[5]=n):n=d[5],d[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,o.jsx)(Z,{}),d[6]=l):l=d[6],d[7]!==h||d[8]!==g||d[9]!==r||d[10]!==n||d[11]!==f?(c=(0,o.jsxs)(i.A,{"aria-label":f,isOpen:g,onDismiss:h,sx:r,children:[n,l]}),d[7]=h,d[8]=g,d[9]=r,d[10]=n,d[11]=f,d[12]=c):c=d[12],c}try{er.displayName||(er.displayName="CopilotReferencePreviewDialog")}catch{}var en=r(53627),eo=r(53419),ea=r(26865),ei=r(30721),es=r(96379),el=r(57123),ec=r(55847),ed=r(94977),eh=r(34164),eu=r(18312),ep=r(13171),em=r(69599),ef=r(83494),eg=r(96459),ex=r(35181),eb=r(26239),ew=r(57448),ey=r(79064),ev=r(72303);let ej={copilotChatPanel:"ChatPanel-module__copilotChatPanel--Olv4b",openChat:"ChatPanel-module__openChat--FRUxy",ChatPanelContainer:"ChatPanel-module__ChatPanelContainer--qsaKi",verticalResizeTarget:"ChatPanel-module__verticalResizeTarget--YNU6i",horizontalResizeTarget:"ChatPanel-module__horizontalResizeTarget--s5u6t",cornerResizeTarget:"ChatPanel-module__cornerResizeTarget--WmiTb",panelContentContainer:"ChatPanel-module__panelContentContainer--nx0He"},e_={FloatingButtonContainer:"FloatingButton-module__FloatingButtonContainer--gD0z9"},eS=()=>{let e,t,r=(0,a.c)(7),n=(0,l.Pk)(),i=(0,c.b)();r[0]!==n?(e=(0,ev.W)(n),r[0]=n,r[1]=e):e=r[1];let s=e;return r[2]!==i||r[3]!==n.chatVisibleSettingPath||r[4]!==n.currentView||r[5]!==s?(t=(0,o.jsx)(y.K,{tabIndex:-1,id:"copilot-floating-button",icon:b.CopilotIcon,"aria-label":"Open Copilot chat","aria-controls":eb.wJ,tooltipDirection:"w",onClick:()=>{i.openChat(s,n.currentView,"floating-button-v2",n.chatVisibleSettingPath)},"data-hotkey":"Shift+Z",className:e_.FloatingButtonContainer}),r[2]=i,r[3]=n.chatVisibleSettingPath,r[4]=n.currentView,r[5]=s,r[6]=t):t=r[6],t};try{eS.displayName||(eS.displayName="FloatingButton")}catch{}var eC=r(35673);let eN=e=>{let t,r,n,i,s,h,u,p=(0,a.c)(27),{children:m,initialFocusRef:f,staffDialogRef:g,handleClose:x,panelWidth:b,panelHeight:w,startResize:y,onResizerKeyDown:_}=e,S=(0,l.Pk)(),{chatIsOpen:C,chatIsVisible:N,currentTopic:O}=S,I=S.entryPointId??eb.fv,P=(0,j.useRef)(null),k=(0,j.useRef)(null);p[0]!==I?(t=()=>{k.current=document.getElementById(I)},r=[I],p[0]=I,p[1]=t,p[2]=r):(t=p[1],r=p[2]),(0,j.useEffect)(t,r),p[3]!==x?(n=()=>{P.current&&P.current.contains(document.activeElement)&&x(!0)},p[3]=x,p[4]=n):n=p[4];let D=n,R=(0,c.b)();p[5]!==S?(i=(0,ev.W)(S),p[5]=S,p[6]=i):i=p[6];let E=i,L=(0,eg.Z)();p[7]!==O||p[8]!==L||p[9]!==S.currentReferences||p[10]!==E?(s=()=>{(0,eo.BI)("dotcom_chat.activate",{target:"IMMERSIVE_OPTION",mode:"assistive"}),ey.Jt.setCurrentReferences(E?.id??null,S.currentReferences),E?L(`${d.Jz}/c/${E.id}`):O&&(0,d.Z6)(O)?L(`${d.Jz}/r/${O.ownerLogin}/${O.name}`):L(d.Jz)},p[7]=O,p[8]=L,p[9]=S.currentReferences,p[10]=E,p[11]=s):s=p[11];let T=s;return p[12]!==C||p[13]!==N||p[14]!==m||p[15]!==f||p[16]!==R||p[17]!==T||p[18]!==D||p[19]!==_||p[20]!==w||p[21]!==b||p[22]!==g||p[23]!==y?(h=C?(0,o.jsxs)(ex.Ay,{id:eb.wJ,className:(0,eh.$)(ej.copilotChatPanel,C&&ej.openChat),ref:P,portalContainerName:(0,em.G7)("primer_react_unified_portal_root")?void 0:eC.Gj,onEscape:D,onClickOutside:eO,ignoreClickRefs:[g],initialFocusRef:f,returnFocusRef:k,style:{"--panel-width":`${b}px`,"--panel-height":`${w}px`,"--panel-min-height":`${ew.cx}px`,"--panel-min-width":`${ew.Ld}px`},right:8,bottom:8,anchorSide:"inside-top",position:"fixed",role:"dialog","aria-labelledby":eb.Qs,children:[(0,o.jsx)(ef.ak,{commands:{"copilot-chat:close-assistive":()=>R.closeChat()}}),(0,o.jsx)(ef.tL,{commands:{"copilot-chat:continue-in-immersive":T},children:(0,o.jsx)("section",{id:eb.Qs,"aria-label":"Copilot chat panel",style:{height:"100%"},children:(0,o.jsxs)("div",{"data-testid":eb.Qs,className:ej.ChatPanelContainer,children:[(0,o.jsx)(v.az,{id:"vertical-resize-click-target",sx:{cursor:C?"ns-resize":void 0},onMouseDown:e=>y(e,!1,!0),className:ej.verticalResizeTarget}),(0,o.jsx)(v.az,{sx:{cursor:C?"ew-resize":void 0},onMouseDown:e=>y(e,!0,!1),className:ej.horizontalResizeTarget}),(0,o.jsx)(v.az,{sx:{cursor:C?"nwse-resize":"undefined"},"aria-label":"Chat panel resizer","aria-valuetext":`${b}, ${w}`,"aria-valuenow":b,role:"separator",onMouseDown:e=>y(e,!0,!0),tabIndex:0,onKeyDown:_,className:ej.cornerResizeTarget}),(0,o.jsx)("div",{className:ej.panelContentContainer,children:m})]})})})]}):N&&!(0,em.G7)("copilot_no_floating_button")?(0,o.jsx)(eS,{}):null,p[12]=C,p[13]=N,p[14]=m,p[15]=f,p[16]=R,p[17]=T,p[18]=D,p[19]=_,p[20]=w,p[21]=b,p[22]=g,p[23]=y,p[24]=h):h=p[24],p[25]!==h?(u=(0,o.jsx)(o.Fragment,{children:h}),p[25]=h,p[26]=u):u=p[26],u};try{eN.displayName||(eN.displayName="ChatPanel")}catch{}function eO(){}var eI=r(54589),eP=r(11083),ek=r(63557),eD=r(21654),eR=r(5945),eE=r(52446),eL=r(51213),eT=r(35247),eA=r(17005);let eV={HeaderContainer:"Header-module__HeaderContainer--rObkM",headerTitleContainer:"Header-module__headerTitleContainer--Dl484",HeaderTitle:"Header-module__HeaderTitle--fAPdx",headerActions:"Header-module__headerActions--YEgVs",betaLabel:"Header-module__betaLabel--oV8Ou",actionButton:"Header-module__actionButton--Zt7jn",buttonSeparator:"Header-module__buttonSeparator--W8lbr"};var eB=r(87255),e$=r(65029),eF=r(81246),ez=r(24815),eM=r(16255),eH=r(96665),eU=r(44902);let eW={dialogContentContainer:"ExperimentsDialog-module__dialogContentContainer--mWDus",experimentsInput:"ExperimentsDialog-module__experimentsInput--Uko5H"},eG=e=>{let t,r,n,i,s,l,c,d,h,u,p,m,f,g=(0,a.c)(29),{onDismiss:x,experimentsDialogRef:b}=e,[w,y]=(0,j.useState)(eJ),[v,_]=(0,j.useState)(void 0),S=(0,j.useRef)("\u200B");g[0]!==w||g[1]!==x?(t=()=>{let e=[];for(let t of w.split(","))if(""!==t.trim()){if(2!==t.split("=").length){_(`Invalid experiment key=value pair${S.current}`),S.current=S.current+"\u200B";return}_(""),e.push(t)}(0,eU.R)(e),x()},g[0]=w,g[1]=x,g[2]=t):t=g[2];let C=t;return g[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,o.jsx)(e$.A.Label,{children:"Experiments"}),g[3]=r):r=g[3],g[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,o.jsx)("code",{children:"key=value"}),g[4]=n):n=g[4],g[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,o.jsx)(e$.A.Caption,{children:(0,o.jsxs)("span",{children:["List experiments as comma separated ",n," pairs. To see available experiments,"," ",(0,o.jsx)(eF.A,{inline:!0,target:"_blank",href:`/search?q=${encodeURIComponent("repo:github/copilot-api path:experiments.go")}`,children:"read this code"}),"."]})}),g[5]=i):i=g[5],g[6]===Symbol.for("react.memo_cache_sentinel")?(s=e=>y(e.target.value),g[6]=s):s=g[6],g[7]!==C?(l=e=>{"Enter"===e.key&&C()},g[7]=C,g[8]=l):l=g[8],g[9]!==w||g[10]!==l?(c=(0,o.jsx)(ez.A,{"aria-label":"Experiments",name:"experiments",value:w,onChange:s,onKeyDown:l,className:eW.experimentsInput}),g[9]=w,g[10]=l,g[11]=c):c=g[11],g[12]!==v?(d=v&&(0,o.jsx)(e$.A.Validation,{variant:"error",children:v}),g[12]=v,g[13]=d):d=g[13],g[14]!==c||g[15]!==d?(h=(0,o.jsx)(eH.l.Body,{children:(0,o.jsx)("div",{className:eW.dialogContentContainer,children:(0,o.jsxs)(e$.A,{children:[r,i,c,d]})})}),g[14]=c,g[15]=d,g[16]=h):h=g[16],g[17]!==x?(u={type:"button",onClick:x,content:"Cancel"},g[17]=x,g[18]=u):u=g[18],g[19]!==C?(p={type:"button",onClick:C,content:"Save",buttonType:"primary"},g[19]=C,g[20]=p):p=g[20],g[21]!==u||g[22]!==p?(m=(0,o.jsx)(eH.l.Footer,{children:(0,o.jsx)(eH.l.Buttons,{buttons:[u,p]})}),g[21]=u,g[22]=p,g[23]=m):m=g[23],g[24]!==b||g[25]!==x||g[26]!==m||g[27]!==h?(f=(0,o.jsx)(eM.Z,{children:(0,o.jsxs)(eH.l,{ref:b,onClose:x,title:"Experiments",width:"xlarge",children:[h,m]})}),g[24]=b,g[25]=x,g[26]=m,g[27]=h,g[28]=f):f=g[28],f};try{eG.displayName||(eG.displayName="ExperimentsDialog")}catch{}function eJ(){return(0,eU.f)().join(",")}var eq=r(75298),eX=r(46309),eQ=r(49755);let eY={Dialog:"PromptDialog-module__Dialog--gvqi7",systemInstructionsTextarea:"PromptDialog-module__systemInstructionsTextarea--JIAZO",temperatureFormControl:"PromptDialog-module__temperatureFormControl--oJoQJ",toolsSectionHeader:"PromptDialog-module__toolsSectionHeader--jFBxE",deleteToolButton:"PromptDialog-module__deleteToolButton--PRDPZ"},eK=e=>{let t,r,n,i,s,l,d,h,u,p,m,f,g,x,w,v,_,S,C,N,O,I,P,k=(0,a.c)(53),{onDismiss:D,promptDialogRef:R}=e,E=(0,c.b)(),L=ey.Jt.settings,[T,A]=(0,j.useState)(L?.instructionPrompt||void 0);k[0]===Symbol.for("react.memo_cache_sentinel")?(t=L?.skillOverrides??[],k[0]=t):t=k[0];let[V,B]=(0,j.useState)(t),[$,F]=(0,j.useState)(L?.temperature||.7),z=(0,j.useRef)(void 0);k[1]!==E||k[2]!==D||k[3]!==T||k[4]!==$||k[5]!==V?(r=()=>{let e=V.filter(eZ);E.setCopilotSettings({instructionPrompt:T||"",skillOverrides:e,temperature:$}),D()},k[1]=E,k[2]=D,k[3]=T,k[4]=$,k[5]=V,k[6]=r):r=k[6];let M=r;k[7]!==E?(n=async()=>{if(z.current)return void A(z.current);let e=await E.getSystemPrompt();z.current=e,A(e)},k[7]=E,k[8]=n):n=k[8];let H=n;k[9]!==H||k[10]!==T?(i=()=>{(async()=>{void 0===T&&await H()})()},k[9]=H,k[10]=T,k[11]=i):i=k[11],k[12]!==H||k[13]!==E||k[14]!==T?(s=[H,E,T],k[12]=H,k[13]=E,k[14]=T,k[15]=s):s=k[15],(0,j.useEffect)(i,s),k[16]!==H?(l=()=>{H(),B([]),F(.7)},k[16]=H,k[17]=l):l=k[17];let U=l;return k[18]===Symbol.for("react.memo_cache_sentinel")?(d=(0,o.jsx)(e$.A.Label,{children:"System Instructions"}),k[18]=d):d=k[18],k[19]===Symbol.for("react.memo_cache_sentinel")?(h=(0,o.jsx)(e$.A.Caption,{children:(0,o.jsx)("span",{children:"Make adjustments to the system instructions or add new instructions."})}),k[19]=h):h=k[19],k[20]===Symbol.for("react.memo_cache_sentinel")?(u=e=>A(e.target.value),k[20]=u):u=k[20],k[21]!==T?(p=(0,o.jsxs)(e$.A,{children:[d,h,(0,o.jsx)(eq.Ay,{block:!0,"aria-label":"Prompt",name:"Prompt",value:T,onChange:u,className:eY.systemInstructionsTextarea})]}),k[21]=T,k[22]=p):p=k[22],k[23]===Symbol.for("react.memo_cache_sentinel")?(m=(0,o.jsx)(e$.A.Label,{children:"Temperature"}),f=(0,o.jsx)(e$.A.Caption,{children:"Controls the randomness of the model's responses. Lower temperatures are more deterministic, while higher temperatures are more random."}),k[23]=m,k[24]=f):(m=k[23],f=k[24]),k[25]===Symbol.for("react.memo_cache_sentinel")?(g=e=>F(Number(e.target.value)),k[25]=g):g=k[25],k[26]!==$?(x=(0,o.jsxs)(e$.A,{className:eY.temperatureFormControl,children:[m,f,(0,o.jsx)(ez.A,{type:"number",min:"0",max:"1",step:"0.01",block:!0,value:$,onChange:g})]}),k[26]=$,k[27]=x):x=k[27],k[28]===Symbol.for("react.memo_cache_sentinel")?(w=(0,o.jsx)("div",{className:eY.toolsSectionHeader,children:"Tools"}),k[28]=w):w=k[28],k[29]!==V?(v=V.map((e,t)=>(0,o.jsxs)(j.Fragment,{children:[(0,o.jsxs)(eX.B,{direction:"horizontal",className:"py-2",children:[(0,o.jsxs)(e$.A,{children:[(0,o.jsx)(e$.A.Label,{children:"Name"}),(0,o.jsx)(e$.A.Caption,{children:(0,o.jsx)("span",{children:"Slug of tool you want to adjust"})}),(0,o.jsx)(ez.A,{defaultValue:e.slug,onChange:e=>{V.map((r,n)=>{n===t&&(r.slug=e.target.value)})}})]}),(0,o.jsxs)(e$.A,{children:[(0,o.jsx)(e$.A.Label,{children:"Description"}),(0,o.jsx)(e$.A.Caption,{children:(0,o.jsx)("span",{children:"Make changes to the tool description"})}),(0,o.jsx)(ez.A,{defaultValue:e.description,onChange:r=>{V.map((n,o)=>{o===t&&(e.description=r.target.value)})}})]}),(0,o.jsxs)(e$.A,{children:[(0,o.jsx)(e$.A.Label,{id:"toggle",children:"Enabled?"}),(0,o.jsx)(eQ.A,{size:"small","aria-labelledby":"toggle",defaultChecked:e.enabled,onChange:e=>{V.map((r,n)=>{n===t&&(r.enabled=e)})}})]}),(0,o.jsx)(y.K,{icon:b.TrashIcon,"aria-label":"Delete tool",variant:"invisible",onClick:()=>{let e=[...V];1===V.length?B([]):(e.splice(t,1),B(e))},className:eY.deleteToolButton})]}),t===V.length-1&&(0,o.jsx)(ec.Q,{leadingVisual:(0,o.jsx)(b.PlusIcon,{}),onClick:()=>B([...V,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add another tool"})]},`tool-${e.slug}-${Math.random()}`)),k[29]=V,k[30]=v):v=k[30],k[31]!==V?(_=0===V.length&&(0,o.jsx)(ec.Q,{leadingVisual:(0,o.jsx)(b.PlusIcon,{}),onClick:()=>B([...V,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add a tool"}),k[31]=V,k[32]=_):_=k[32],k[33]!==p||k[34]!==x||k[35]!==v||k[36]!==_?(S=(0,o.jsxs)(eH.l.Body,{children:[p,x,w,v,_]}),k[33]=p,k[34]=x,k[35]=v,k[36]=_,k[37]=S):S=k[37],k[38]!==D?(C={type:"button",onClick:D,content:"Cancel"},k[38]=D,k[39]=C):C=k[39],k[40]!==U?(N={type:"button",onClick:U,content:"Reset"},k[40]=U,k[41]=N):N=k[41],k[42]!==M?(O={type:"button",onClick:M,content:"Save",buttonType:"primary"},k[42]=M,k[43]=O):O=k[43],k[44]!==C||k[45]!==N||k[46]!==O?(I=(0,o.jsx)(eH.l.Footer,{children:(0,o.jsx)(eH.l.Buttons,{buttons:[C,N,O]})}),k[44]=C,k[45]=N,k[46]=O,k[47]=I):I=k[47],k[48]!==D||k[49]!==R||k[50]!==S||k[51]!==I?(P=(0,o.jsx)(eM.Z,{children:(0,o.jsxs)(eH.l,{ref:R,onClose:D,title:"Prompt Settings",width:"xlarge",className:eY.Dialog,children:[S,I]})}),k[48]=D,k[49]=R,k[50]=S,k[51]=I,k[52]=P):P=k[52],P};try{eK.displayName||(eK.displayName="PromptDialog")}catch{}function eZ(e){return e.slug&&e.description}let e0=e=>{let t,r,n,i=(0,a.c)(11),{dialogType:s,onDismiss:l,staffDialogRef:c}=e;return i[0]!==s||i[1]!==l||i[2]!==c?(t=s===eL.hs.Experiments&&(0,o.jsx)(eG,{experimentsDialogRef:c,onDismiss:l}),i[0]=s,i[1]=l,i[2]=c,i[3]=t):t=i[3],i[4]!==s||i[5]!==l||i[6]!==c?(r=s===eL.hs.Prompt&&(0,o.jsx)(eK,{promptDialogRef:c,onDismiss:l}),i[4]=s,i[5]=l,i[6]=c,i[7]=r):r=i[7],i[8]!==t||i[9]!==r?(n=(0,o.jsxs)(o.Fragment,{children:[t,r]}),i[8]=t,i[9]=r,i[10]=n):n=i[10],n};try{e0.displayName||(e0.displayName="StaffDialogs")}catch{}let e1=e=>{let t,r,n,i,s,d,h,u,p,m,f,g,x,w,_=(0,a.c)(54),S=(0,l.Pk)(),C=(0,c.b)(),[N,O]=(0,j.useState)(!1);_[0]!==S?(t=(0,ev.W)(S),_[0]=S,_[1]=t):t=_[1];let I=t,{showTopicPicker:P,messages:k,streamingMessage:D}=S,R=I?.name??S.restoredThreadTitle;_[2]!==C||_[3]!==I?(r=async()=>I&&C.deleteThread(I),_[2]=C,_[3]=I,_[4]=r):r=_[4];let E=r;_[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,em.G7)("lifecycle_label_name_updates"),_[5]=n):n=_[5];let L=n;_[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,em.G7)("copilot_no_floating_button"),_[6]=i):i=_[6];let T=i,A=(0,j.useRef)(null),V="immersive"===S.mode?1:3,B=P?"none":"1px solid";return _[7]!==V||_[8]!==B?(s={pl:V,borderBottom:B},_[7]=V,_[8]=B,_[9]=s):s=_[9],_[10]!==k||_[11]!==e.isImmersive||_[12]!==e.isResponding||_[13]!==P||_[14]!==S.chatIsOpen||_[15]!==S.currentView||_[16]!==R?(d="thread"===S.currentView?!P&&!e.isImmersive&&0===k.length&&S.chatIsOpen&&(0,o.jsx)(ek.A,{as:"h2",className:eV.HeaderTitle,children:"thread"===S.currentView?(0,o.jsx)(o.Fragment,{children:R?(0,o.jsx)("span",{className:"Truncate",children:(0,o.jsx)("span",{className:"Truncate-text",title:R,children:R})}):e.isResponding&&!S.chatIsOpen?(0,o.jsx)(o.Fragment,{children:"Responding\u2026"}):S.chatIsOpen?!P&&(0,o.jsx)(o.Fragment,{children:"New conversation"}):(0,o.jsx)(o.Fragment,{children:"Ask Copilot"})}):"Copilot"}):(0,o.jsx)(e2,{}),_[10]=k,_[11]=e.isImmersive,_[12]=e.isResponding,_[13]=P,_[14]=S.chatIsOpen,_[15]=S.currentView,_[16]=R,_[17]=d):d=_[17],_[18]!==d?(h=(0,o.jsx)("div",{className:eV.headerTitleContainer,children:d}),_[18]=d,_[19]=h):h=_[19],_[20]!==E||_[21]!==C||_[22]!==k||_[23]!==e.setShowStaffDialog||_[24]!==S.chatIsOpen||_[25]!==S.currentView||_[26]!==S.renderBetaLabel||_[27]!==I?(u=S.chatIsOpen&&(0,o.jsxs)(o.Fragment,{children:[S.renderBetaLabel&&(L?(0,o.jsx)(eI.X,{className:"mr-2"}):(0,o.jsx)(eD.A,{variant:"success",className:eV.betaLabel,children:"Beta"})),"thread"===S.currentView?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y.K,{hidden:0===k.length,variant:"invisible",icon:b.PlusIcon,"aria-label":"New conversation",tooltipDirection:"s",onClick:async()=>{await C.selectThread(null)},className:eV.actionButton}),(0,o.jsx)(e3,{anchorRef:A,handleDelete:E,thread:I,setShowStaffDialog:e.setShowStaffDialog,setShowPersonalInstructionsDialog:O})]}):(0,o.jsx)(y.K,{variant:"invisible",icon:b.PlusIcon,"aria-label":"New conversation",tooltipDirection:"w",onClick:async()=>{await C.selectThread(null)},className:eV.actionButton})]}),_[20]=E,_[21]=C,_[22]=k,_[23]=e.setShowStaffDialog,_[24]=S.chatIsOpen,_[25]=S.currentView,_[26]=S.renderBetaLabel,_[27]=I,_[28]=u):u=_[28],_[29]!==C||_[30]!==e.isImmersive||_[31]!==S.chatIsOpen||_[32]!==S.chatVisibleSettingPath||_[33]!==S.currentView||_[34]!==D||_[35]!==I?(p=!e.isImmersive&&(0,o.jsxs)(o.Fragment,{children:[S.chatIsOpen&&(0,o.jsx)("div",{className:eV.buttonSeparator}),(0,o.jsx)(ef.N5,{commandId:"copilot-chat:continue-in-immersive",variant:"invisible",icon:b.ScreenFullIcon,"aria-label":"Continue in immersive",disabled:!!D,tooltipDirection:"sw",className:eV.actionButton}),T?(0,o.jsx)(ef.N5,{commandId:"copilot-chat:close-assistive",variant:"invisible",icon:b.XIcon,tooltipDirection:"sw",className:eV.actionButton}):(0,o.jsx)(y.K,{variant:"invisible",icon:S.chatIsOpen?b.ChevronDownIcon:b.ChevronUpIcon,"aria-label":S.chatIsOpen?"Collapse":"Expand",tooltipDirection:S.chatIsOpen?"sw":"w",onClick:S.chatIsOpen?()=>C.closeChat():()=>C.openChat(I,S.currentView,"header",S.chatVisibleSettingPath),"data-hotkey":"Shift+Z",className:eV.actionButton})]}),_[29]=C,_[30]=e.isImmersive,_[31]=S.chatIsOpen,_[32]=S.chatVisibleSettingPath,_[33]=S.currentView,_[34]=D,_[35]=I,_[36]=p):p=_[36],_[37]!==p||_[38]!==u?(m=(0,o.jsxs)("div",{className:eV.headerActions,children:[u,p]}),_[37]=p,_[38]=u,_[39]=m):m=_[39],_[40]!==e?(f=()=>e.setShowStaffDialog(eL.hs.None),_[40]=e,_[41]=f):f=_[41],_[42]!==e.showStaffDialog||_[43]!==e.staffDialogRef||_[44]!==f?(g=(0,o.jsx)(e0,{dialogType:e.showStaffDialog,staffDialogRef:e.staffDialogRef,onDismiss:f}),_[42]=e.showStaffDialog,_[43]=e.staffDialogRef,_[44]=f,_[45]=g):g=_[45],_[46]!==N?(x=N&&(0,o.jsx)(eB.Y,{returnFocusRef:A,onDismiss:()=>O(!1)}),_[46]=N,_[47]=x):x=_[47],_[48]!==m||_[49]!==g||_[50]!==x||_[51]!==s||_[52]!==h?(w=(0,o.jsxs)(v.az,{sx:s,className:eV.HeaderContainer,children:[h,m,g,x]}),_[48]=m,_[49]=g,_[50]=x,_[51]=s,_[52]=h,_[53]=w):w=_[53],w},e2=()=>{let e,t,r,n=(0,a.c)(7),{mode:i}=(0,l.Pk)(),s=(0,c.b)();n[0]!==s?(e=()=>s.viewCurrentThread(),n[0]=s,n[1]=e):e=n[1];let d="assistive"===i?"-8px":void 0;return n[2]!==d?(t={marginLeft:d},n[2]=d,n[3]=t):t=n[3],n[4]!==e||n[5]!==t?(r=(0,o.jsx)(v.$n,{leadingVisual:b.ArrowLeftIcon,variant:"invisible",onClick:e,sx:t,className:eV.actionButton,children:"Back"}),n[4]=e,n[5]=t,n[6]=r):r=n[6],r},e3=e=>{let t,r,n,i,s,h,u,p,m,f,g,x,w,v,_,S,C,N,O,I,P,k,D,R,E,L,T=(0,a.c)(54),[A,V]=(0,j.useState)(!1),{chatVisibleSettingPath:B,mode:$,repoCustomInstructionsEnabled:F,currentReferences:z}=(0,l.Pk)(),M=(0,c.b)(),H=(0,j.useRef)(null);T[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,em.G7)("copilot_no_floating_button"),T[0]=t):t=T[0];let U=t,W=eT.W.staffPromptDialog;T[1]!==z?(r=(0,d.NJ)(z),T[1]=z,T[2]=r):r=T[2];let G=r;T[3]!==M?(n=()=>{M.fetchThreads(),M.viewAllThreads(),(0,eo.BI)("copilot.view-conversations-clicked")},T[3]=M,T[4]=n):n=T[4];let J=n;T[5]!==e?(i=()=>{e.handleDelete(),V(!1)},T[5]=e,T[6]=i):i=T[6];let q=i;T[7]===Symbol.for("react.memo_cache_sentinel")?(h=(0,eP.X)(),T[7]=h):h=T[7],s=h;let X=!e.thread;T[8]===Symbol.for("react.memo_cache_sentinel")?(u=()=>V(e4),T[8]=u):u=T[8],T[9]===Symbol.for("react.memo_cache_sentinel")?(p=(0,o.jsx)(eR.W.Anchor,{children:(0,o.jsx)(y.K,{icon:b.KebabHorizontalIcon,variant:"invisible","aria-label":"Conversation options",tooltipDirection:"n",className:eV.actionButton})}),T[9]=p):p=T[9],T[10]!==G.length||T[11]!==M||T[12]!==F?(m=G.length>0&&(0,o.jsxs)(eE.l.Item,{onSelect:()=>{M.toggleRepoCustomInstructions(!F)},children:[(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.NoteIcon,{})}),F?"Disable custom instructions":"Enable custom instructions"]}),T[10]=G.length,T[11]=M,T[12]=F,T[13]=m):m=T[13];let Q=X?"default":"danger";return T[14]===Symbol.for("react.memo_cache_sentinel")?(f=(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.TrashIcon,{})}),T[14]=f):f=T[14],T[15]===Symbol.for("react.memo_cache_sentinel")?(g=(0,o.jsx)("p",{id:"delete-conversation-description",className:"sr-only",children:"This is a destructive action that cannot be undone"}),T[15]=g):g=T[15],T[16]!==X||T[17]!==q||T[18]!==Q?(x=(0,o.jsxs)(eE.l.Item,{variant:Q,onSelect:q,disabled:X,"aria-describedby":"delete-conversation-description",children:[f,"Delete conversation",g]}),T[16]=X,T[17]=q,T[18]=Q,T[19]=x):x=T[19],T[20]===Symbol.for("react.memo_cache_sentinel")?(w=(0,o.jsx)(eE.l.Divider,{}),T[20]=w):w=T[20],T[21]!==e?(v=()=>e.setShowPersonalInstructionsDialog(!0),T[21]=e,T[22]=v):v=T[22],T[23]===Symbol.for("react.memo_cache_sentinel")?(_=(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.ToolsIcon,{})}),T[23]=_):_=T[23],T[24]!==v?(S=(0,o.jsxs)(eE.l.Item,{onSelect:v,children:[_,"Personal instructions"]}),T[24]=v,T[25]=S):S=T[25],T[26]!==J||T[27]!==$?(C="assistive"===$&&(0,o.jsxs)(eE.l.Item,{onSelect:J,children:[(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.HistoryIcon,{})}),"View all conversations"]}),T[26]=J,T[27]=$,T[28]=C):C=T[28],T[29]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{H.current?.openDialog(),(0,eo.BI)("dotcom_chat.activate",{target:"META_CONTEXT_MENU_GIVE_FEEDBACK",mode:"assistive"})},T[29]=N):N=T[29],T[30]===Symbol.for("react.memo_cache_sentinel")?(O=(0,o.jsxs)(eE.l.Item,{onSelect:N,children:[(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.CommentDiscussionIcon,{})}),"Give feedback"]}),T[30]=O):O=T[30],T[31]!==B||T[32]!==M||T[33]!==$?(I="assistive"===$&&!U&&(0,o.jsxs)(eE.l.Item,{onSelect:()=>{M.hideChat(B)},children:[(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.EyeClosedIcon,{})}),"Hide Copilot chat"]}),T[31]=B,T[32]=M,T[33]=$,T[34]=I):I=T[34],T[35]!==e?(P=s&&(0,o.jsxs)(eE.l.Item,{onSelect:()=>e.setShowStaffDialog(eL.hs.Experiments),children:[(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.BeakerIcon,{})}),"Configure experiments",(0,o.jsx)(eE.l.TrailingVisual,{children:(0,o.jsx)(eD.A,{variant:"attention",children:"Staff"})})]}),T[35]=e,T[36]=P):P=T[36],T[37]!==e?(k=s&&W&&(0,o.jsxs)(eE.l.Item,{onSelect:()=>e.setShowStaffDialog(eL.hs.Prompt),children:[(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.BeakerIcon,{})}),"Adjust prompts",(0,o.jsx)(eE.l.TrailingVisual,{children:(0,o.jsx)(eD.A,{variant:"attention",children:"Staff"})})]}),T[37]=e,T[38]=k):k=T[38],T[39]!==x||T[40]!==S||T[41]!==C||T[42]!==I||T[43]!==P||T[44]!==k||T[45]!==m?(D=(0,o.jsx)(eC.UJ,{children:(0,o.jsxs)(eE.l,{children:[m,x,w,S,C,O,I,P,k]})}),T[39]=x,T[40]=S,T[41]=C,T[42]=I,T[43]=P,T[44]=k,T[45]=m,T[46]=D):D=T[46],T[47]!==A||T[48]!==e.anchorRef||T[49]!==D?(R=(0,o.jsxs)(eR.W,{open:A,onOpenChange:u,anchorRef:e.anchorRef,children:[p,D]}),T[47]=A,T[48]=e.anchorRef,T[49]=D,T[50]=R):R=T[50],T[51]===Symbol.for("react.memo_cache_sentinel")?(E=(0,o.jsx)(eA.l,{ref:H,mode:"assistive"}),T[51]=E):E=T[51],T[52]!==R?(L=(0,o.jsxs)(o.Fragment,{children:[R,E]}),T[52]=R,T[53]=L):L=T[53],L};try{e1.displayName||(e1.displayName="Header")}catch{}try{e2.displayName||(e2.displayName="ReturnToCurrentThreadButton")}catch{}try{e3.displayName||(e3.displayName="ThreadOptionButton")}catch{}function e4(e){return!e}var e5=r(79184),e6=r(12004),e7=r(69410);let e8={loadingStateContainer:"ThreadListView-module__loadingStateContainer--cQ2Y1",ActionList:"ThreadListView-module__ActionList--vTS9v",emptyStateContainer:"ThreadListView-module__emptyStateContainer--RI0zV",errorStateContainer:"ThreadListView-module__errorStateContainer--xIKxr",deleteAllButton:"ThreadListView-module__deleteAllButton--YxpmP"};function e9(){let e,t,r,n=(0,a.c)(9),i=(0,l.Pk)(),s=(0,c.b)();n[0]!==s||n[1]!==i.threads?(t=s.sortAndFilterThreads(i.threads,te),n[0]=s,n[1]=i.threads,n[2]=t):t=n[2],e=t;let[d,h]=(0,j.useState)(!1),u=(0,j.useRef)(null),p=eT.W.deleteAllConversations;if("loading"===i.threadsLoading.state&&e.length<2){let e;return n[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)("div",{className:e8.loadingStateContainer,children:[(0,o.jsx)(e6.A,{}),"Loading threads\u2026"]}),n[3]=e):e=n[3],e}return n[4]!==s||n[5]!==d||n[6]!==i.threadsLoading||n[7]!==e?(r=(0,o.jsx)(o.Fragment,{children:"error"===i.threadsLoading.state?(0,o.jsx)(tt,{threadsLoading:i.threadsLoading}):(0,o.jsxs)(o.Fragment,{children:[e.length>0&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(eE.l,{className:e8.ActionList,children:(0,o.jsxs)(eE.l.Group,{children:[(0,o.jsx)(eE.l.GroupHeading,{as:"h3",children:"All conversations"}),(0,o.jsx)(tr,{threads:e,manager:s}),e.length>1&&p&&(0,o.jsx)(tn,{threads:e,manager:s,shouldDeleteAllThreads:d,setShouldDeleteAllThreads:h,returnFocusRef:u})]})})}),0===e.length&&(0,o.jsxs)("div",{className:e8.emptyStateContainer,children:[(0,o.jsx)("p",{className:"mb-3",children:"There are no conversations at the moment."}),(0,o.jsx)(ec.Q,{onClick:()=>s.selectThread(null),block:!0,children:"Start a new conversation"})]})]})}),n[4]=s,n[5]=d,n[6]=i.threadsLoading,n[7]=e,n[8]=r):r=n[8],r}function te(e){return void 0===e.customCopilotID}let tt=e=>{let t,r,n=(0,a.c)(3),{threadsLoading:i}=e;n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(E.A,{icon:b.AlertIcon}),n[0]=t):t=n[0];let s="error"===i.state?i.error:"Something went wrong. Please try again later.";return n[1]!==s?(r=(0,o.jsx)("div",{className:e8.errorStateContainer,children:(0,o.jsxs)(e7.A,{variant:"warning",children:[t,s]})}),n[1]=s,n[2]=r):r=n[2],r},tr=e=>{let t,r,n=(0,a.c)(7),{threads:i,manager:s}=e;if(n[0]!==s||n[1]!==i){let e;n[3]!==s?(e=e=>(0,o.jsxs)(eE.l.Item,{onSelect:()=>s.selectThread(e),className:"mr-0 pr-2",children:[(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.CommentIcon,{})}),(0,d.CB)(e),(0,o.jsx)(eE.l.Description,{variant:"inline",className:"flex-shrink-0",children:(0,o.jsx)(w.A,{date:new Date(Date.parse(e.updatedAt)),format:"relative"})}),(0,o.jsx)(eE.l.TrailingAction,{icon:b.TrashIcon,label:`Delete conversation: "${(0,d.CB)(e)}"`,onClick:async()=>s.deleteThreadKeepSelection(e)})]},e.id),n[3]=s,n[4]=e):e=n[4],t=i.map(e),n[0]=s,n[1]=i,n[2]=t}else t=n[2];return n[5]!==t?(r=(0,o.jsx)(o.Fragment,{children:t}),n[5]=t,n[6]=r):r=n[6],r},tn=e=>{let t,r,n,i,s=(0,a.c)(14),{threads:l,manager:c,shouldDeleteAllThreads:d,setShouldDeleteAllThreads:h,returnFocusRef:u}=e;return s[0]!==h?(t=()=>h(!0),s[0]=h,s[1]=t):t=s[1],s[2]!==u||s[3]!==t?(r=(0,o.jsx)(ec.Q,{"data-testid":"delete-all-threads-button",ref:u,onClick:t,className:e8.deleteAllButton,children:"Delete all conversations"}),s[2]=u,s[3]=t,s[4]=r):r=s[4],s[5]!==c||s[6]!==u||s[7]!==h||s[8]!==d||s[9]!==l?(n=!0===d&&(0,o.jsx)("div",{"data-testid":"delete-all-threads-dialog",children:(0,o.jsxs)(eH.l,{title:"Delete all conversations",width:"small",onClose:()=>h(!1),returnFocusRef:u,footerButtons:[{buttonType:"default",content:"Cancel",onClick:()=>h(!1)},{buttonType:"danger",content:"Delete",onClick:async()=>{await c.deleteAllThreadKeepSelection(l),h(!1)},autoFocus:!0}],children:["You are trying to delete ",l.length," conversations. Are you sure? This can\u2019t be undone."]})}),s[5]=c,s[6]=u,s[7]=h,s[8]=d,s[9]=l,s[10]=n):n=s[10],s[11]!==r||s[12]!==n?(i=(0,o.jsxs)(o.Fragment,{children:[r,n]}),s[11]=r,s[12]=n,s[13]=i):i=s[13],i};try{e9.displayName||(e9.displayName="ThreadListView")}catch{}try{tt.displayName||(tt.displayName="ErrorView")}catch{}try{tr.displayName||(tr.displayName="ListView")}catch{}try{tn.displayName||(tn.displayName="DeleteAll")}catch{}let to={CopilotChatContainer:"CopilotChat-module__CopilotChatContainer--fWXmM",IconButton:"CopilotChat-module__IconButton--jjRoQ",Popover:"CopilotChat-module__Popover--gWIEN",Popover_Content:"CopilotChat-module__Popover_Content--o_2MF",chatContentScrollContainer:"CopilotChat-module__chatContentScrollContainer--eCNUB",chatViewContainer:"CopilotChat-module__chatViewContainer--F1fj4"};var ta=r(39619),ti=r(46062);let ts=(0,ei.E7)();function tl(e){let t,r=(0,a.c)(2);return r[0]!==e?(t=(0,o.jsx)(eu.RelayEnvironmentProvider,{environment:ts,children:(0,o.jsx)(tc,{...e})}),r[0]=e,r[1]=t):t=r[1],t}function tc(e){let t,r,n,i,c,d=(0,a.c)(9),h=(0,j.useRef)(null),u=(0,j.useRef)(null),p=ey.Jt.selectedThreadID;d[0]===Symbol.for("react.memo_cache_sentinel")?(t=ey.Jt.getCurrentReferences(p)||[],d[0]=t):t=d[0];let m=t,f=e.renderPopover||!1;return d[1]!==e.reactPartialAnchor||d[2]!==f?(r=(0,o.jsx)(td,{renderPopover:f,ref:h,reactPartialAnchor:e.reactPartialAnchor,inputRef:u}),d[1]=e.reactPartialAnchor,d[2]=f,d[3]=r):r=d[3],d[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,o.jsx)(eC.cB,{}),i=(0,o.jsx)(tm,{inputRef:u}),d[4]=n,d[5]=i):(n=d[4],i=d[5]),d[6]!==e||d[7]!==r?(c=(0,o.jsx)(s.LB,{children:(0,o.jsxs)(l.Mj,{topic:e.currentTopic,workerPath:e.findFileWorkerPath,threadId:p,refs:m,mode:"assistive",ssoOrganizations:e.ssoOrganizations,chatIsOpen:!1,chatIsVisible:e.chatIsVisible,chatVisibleSettingPath:e.chatVisibleSettingPath,realIp:e.realIp,copilotChatPayload:e,children:[r,n,i]})}),d[6]=e,d[7]=r,d[8]=c):c=d[8],c}let td=j.forwardRef((e,t)=>{let r,n,i,h,u,p,m,f,g,x,w,v,_,S,C,N,O,I,P=(0,a.c)(62),k=(0,c.b)(),D=(0,l.Pk)();P[0]!==D?(r=(0,ev.W)(D),P[0]=D,P[1]=r):r=P[1];let R=r,{currentTopic:E,currentView:L}=D,{screenSize:T}=(0,s.lm)(),{licenseType:A}=(0,e5.xR)(),V=(0,ti.GF)(D.availableModels),B=(0,j.useRef)(!0);P[2]!==E||P[3]!==V||P[4]!==k||P[5]!==R||P[6]!==D.chatIsOpen?(n=()=>(0,ta.HS)(e=>void k.handleOpenPanelEvent(R,e,D.chatIsOpen,E,V)),i=[E,R,k,D.chatIsOpen,V],P[2]=E,P[3]=V,P[4]=k,P[5]=R,P[6]=D.chatIsOpen,P[7]=n,P[8]=i):(n=P[7],i=P[8]),(0,j.useEffect)(n,i),P[9]!==k?(h=()=>(0,ta.f7)(e=>{k.handleAddReferenceEvent(e)}),P[9]=k,P[10]=h):h=P[10],P[11]!==k||P[12]!==R||P[13]!==D.currentReferences?(u=[R,k,D.currentReferences],P[11]=k,P[12]=R,P[13]=D.currentReferences,P[14]=u):u=P[14],(0,j.useEffect)(h,u),P[15]!==k?(p=()=>(0,ta.Tv)(e=>{k.handleSymbolChangedEvent(e)}),P[15]=k,P[16]=p):p=P[16],(0,j.useEffect)(p),P[17]!==V||P[18]!==k?(m=()=>(0,ta.fD)(e=>{k.handleSearchCopilotEvent(e,V)}),f=[k,V],P[17]=V,P[18]=k,P[19]=m,P[20]=f):(m=P[19],f=P[20]),(0,j.useEffect)(m,f),P[21]!==L||P[22]!==k||P[23]!==D.chatVisibleSettingPath||P[24]!==D.selectedThreadID||P[25]!==D.threads?(g=()=>{let e=new URL(window.location.href,window.location.origin),t=e.searchParams,r=D.selectedThreadID;if("1"===t.get("copilot")&&r){let t=D.threads.get(r)??null;k.openChat(t,L,"immersive",D.chatVisibleSettingPath),e.searchParams.delete("copilot"),(0,en.kd)(e.toString())}},x=[k,D.selectedThreadID,D.threads,L,D.chatVisibleSettingPath],P[21]=L,P[22]=k,P[23]=D.chatVisibleSettingPath,P[24]=D.selectedThreadID,P[25]=D.threads,P[26]=g,P[27]=x):(g=P[26],x=P[27]),(0,j.useEffect)(g,x),P[28]!==k||P[29]!==T||P[30]!==R||P[31]!==D.chatIsVisible||P[32]!==D.chatVisibleSettingPath||P[33]!==D.currentView?(w=()=>{B.current&&(B.current=!1,D.chatIsVisible&&!ey.Jt.getCollapsedState()&&T>s.Gy.large&&k.openChat(R,D.currentView,"page load",D.chatVisibleSettingPath))},v=[k,T,R,D.chatIsVisible,D.chatVisibleSettingPath,D.currentView],P[28]=k,P[29]=T,P[30]=R,P[31]=D.chatIsVisible,P[32]=D.chatVisibleSettingPath,P[33]=D.currentView,P[34]=w,P[35]=v):(w=P[34],v=P[35]),(0,j.useEffect)(w,v),P[36]!==E||P[37]!==L||P[38]!==A||P[39]!==k||P[40]!==e.inputRef||P[41]!==R||P[42]!==D.chatIsOpen||P[43]!==D.chatVisibleSettingPath?(_=async()=>{if(D.chatIsOpen)e.inputRef.current&&e.inputRef.current.focus();else{if(A===eL.mF.Unlicensed){if(D.chatVisibleSettingPath){let e=new FormData;e.set("copilot_chat_visible","true"),await (0,es.DI)(D.chatVisibleSettingPath,{method:"PUT",body:e}),ey.Jt.setCollapsedState(!1)}window.location.replace(`${window.location.origin}/github-copilot/signup?return_to=${window.location.pathname}`);return}k.openChat(R,L,"header",D.chatVisibleSettingPath,(0,d.Z6)(E)?(0,d.qS)(E):void 0)}},P[36]=E,P[37]=L,P[38]=A,P[39]=k,P[40]=e.inputRef,P[41]=R,P[42]=D.chatIsOpen,P[43]=D.chatVisibleSettingPath,P[44]=_):_=P[44];let $=_;if(e.reactPartialAnchor){let t,r,n;return P[45]!==e.reactPartialAnchor?(t=(0,o.jsx)(th,{reactPartialAnchor:e.reactPartialAnchor}),P[45]=e.reactPartialAnchor,P[46]=t):t=P[46],P[47]!==e.renderPopover?(r=e.renderPopover?(0,o.jsx)(tp,{renderPopover:!0}):(0,o.jsx)(o.Fragment,{}),P[47]=e.renderPopover,P[48]=r):r=P[48],P[49]!==t||P[50]!==r?(n=(0,o.jsxs)("div",{className:to.CopilotChatContainer,children:[t,r]}),P[49]=t,P[50]=r,P[51]=n):n=P[51],n}return P[52]===Symbol.for("react.memo_cache_sentinel")?(S=(0,eh.$)("AppHeader-CopilotChatButton",to.CopilotChatContainer),P[52]=S):S=P[52],P[53]===Symbol.for("react.memo_cache_sentinel")?(C=(0,eh.$)("AppHeader-button",to.IconButton),P[53]=C):C=P[53],P[54]!==$||P[55]!==t?(N=(0,o.jsx)(ed.A,{"aria-label":"Chat with Copilot",direction:"s",children:(0,o.jsx)("div",{children:(0,o.jsx)(y.K,{unsafeDisableTooltip:!0,ref:t,id:eb.fv,icon:b.CopilotIcon,"aria-label":"Chat with Copilot","aria-controls":eb.wJ,onClick:$,className:C,"data-testid":"copilot-chat-button","data-hotkey":"Shift+C","aria-expanded":!1})})}),P[54]=$,P[55]=t,P[56]=N):N=P[56],P[57]!==e.renderPopover?(O=(0,o.jsx)(tp,{renderPopover:e.renderPopover}),P[57]=e.renderPopover,P[58]=O):O=P[58],P[59]!==N||P[60]!==O?(I=(0,o.jsxs)("div",{className:S,children:[N,O]}),P[59]=N,P[60]=O,P[61]=I):I=P[61],I});function th(e){let t,r=(0,a.c)(1),{reactPartialAnchor:n}=e;return(0,ea.QJ)(n,tu),r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(o.Fragment,{}),r[0]=t):t=r[0],t}function tu(){(0,eo.BI)("dotcom_chat.activate",{target:"GLOBAL_COPILOT_MENU_HEADER_TO_IMMERSIVE",mode:"global_nav"})}function tp(e){let t,r,n,i=(0,a.c)(4),{renderPopover:s}=e,[l,c]=(0,j.useState)(s);i[0]===Symbol.for("react.memo_cache_sentinel")?(t=async()=>{c(!1),await (0,es.DI)((({notice:e})=>`/settings/dismiss-notice/${e}`)({notice:"copilot_chat_new_user_popover"}),{method:"POST"})},i[0]=t):t=i[0];let d=t;return i[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,o.jsxs)(el.A.Content,{"data-testid":"copilot-chat-cta-popover",className:to.Popover_Content,children:[(0,o.jsxs)("p",{children:["You now have access to"," ",(0,o.jsx)("a",{href:"https://docs.github.com/enterprise-cloud@latest/copilot/github-copilot-enterprise/overview/about-github-copilot-enterprise",target:"_blank",rel:"noopener noreferrer",children:"Copilot Enterprise"}),". ","Use the Copilot icon to get started."]}),(0,o.jsx)(ec.Q,{"data-testid":"dismiss-copilot-chat-cta-popover",onClick:d,children:"Got it!"})]}),i[1]=r):r=i[1],i[2]!==l?(n=(0,o.jsx)(el.A,{open:l,caret:"top-right",className:to.Popover,children:r}),i[2]=l,i[3]=n):n=i[3],n}function tm(e){let t,r,n,i,s,d,h,u,p=(0,a.c)(29),{inputRef:m}=e,f=(0,l.Pk)(),g=(0,c.b)(),x=(0,j.useRef)(null),[b,w]=(0,j.useState)(eL.hs.None),[y,v]=(0,j.useState)(!1),_=(0,j.useRef)(f.messages.length),S=(0,j.useRef)(f.messagesLoading.state),{panelWidth:C,panelHeight:N,startResize:O,onResizerKeyDown:I}=(0,ew.Tz)();p[0]!==f.chatIsOpen||p[1]!==f.messages.length||p[2]!==f.messagesLoading.state?(t=()=>{f.messages.length>_.current&&!f.chatIsOpen&&"loaded"===S.current&&v(!0),_.current=f.messages.length,S.current=f.messagesLoading.state},r=[f.chatIsOpen,f.messages.length,f.messagesLoading.state],p[0]=f.chatIsOpen,p[1]=f.messages.length,p[2]=f.messagesLoading.state,p[3]=t,p[4]=r):(t=p[3],r=p[4]),(0,j.useEffect)(t,r),p[5]!==y||p[6]!==f.chatIsOpen?(n=()=>{f.chatIsOpen&&y&&v(!1)},i=[y,f.chatIsOpen],p[5]=y,p[6]=f.chatIsOpen,p[7]=n,p[8]=i):(n=p[7],i=p[8]),(0,j.useEffect)(n,i),p[9]!==g||p[10]!==f.entryPointId?(s=e=>{w(eL.hs.None),g.closeChat();let t=f.entryPointId??eb.fv;if(e&&t){let e=document.getElementById(t),r=window.scrollX,n=window.scrollY;setTimeout(()=>{e?.focus(),window.scrollTo(r,n)},0)}},p[9]=g,p[10]=f.entryPointId,p[11]=s):s=p[11];let P=f.messages.length<=1&&(!!f.streamingMessage||f.isWaitingOnCopilot);return p[12]!==b||p[13]!==P?(d=(0,o.jsx)(e1,{staffDialogRef:x,showStaffDialog:b,setShowStaffDialog:w,isResponding:P}),p[12]=b,p[13]=P,p[14]=d):d=p[14],p[15]!==m||p[16]!==f.chatIsOpen||p[17]!==f.currentView||p[18]!==f.selectedThreadID?(h=f.chatIsOpen&&(0,o.jsx)("div",{className:to.chatContentScrollContainer,children:(0,o.jsx)("div",{className:to.chatViewContainer,children:"thread"===f.currentView?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ep.r,{inputRef:m},f.selectedThreadID),(0,o.jsx)(er,{})]}):(0,o.jsx)(e9,{})})}),p[15]=m,p[16]=f.chatIsOpen,p[17]=f.currentView,p[18]=f.selectedThreadID,p[19]=h):h=p[19],p[20]!==m||p[21]!==I||p[22]!==N||p[23]!==C||p[24]!==O||p[25]!==s||p[26]!==d||p[27]!==h?(u=(0,o.jsxs)(eN,{staffDialogRef:x,handleClose:s,panelWidth:C,panelHeight:N,startResize:O,onResizerKeyDown:I,initialFocusRef:m,children:[d,h]}),p[20]=m,p[21]=I,p[22]=N,p[23]=C,p[24]=O,p[25]=s,p[26]=d,p[27]=h,p[28]=u):u=p[28],u}td.displayName="CopilotHeaderButton",tm.displayName="ChatPanelWithHeader";try{tl.displayName||(tl.displayName="CopilotChat")}catch{}try{tc.displayName||(tc.displayName="CopilotChatNoRelay")}catch{}try{th.displayName||(th.displayName="ExternalAnchorListener")}catch{}try{tp.displayName||(tp.displayName="WelcomePopover")}catch{}(0,n.k)("copilot-chat",{Component:tl})},39619:(e,t,r)=>{r.d(t,{HS:()=>i,Oc:()=>a,Tv:()=>c,Xr:()=>SymbolChangedEvent,f7:()=>s,fD:()=>l,qR:()=>o});var n=r(50467);let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),(0,n._)(this,"payload",void 0),this.payload=e}};Event;let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,r){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),(0,n._)(this,"reference",void 0),(0,n._)(this,"openPanel",void 0),(0,n._)(this,"id",void 0),this.reference=e,this.openPanel=t,this.id=r}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),(0,n._)(this,"context",void 0),this.context=e}};function o(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function a(e,t=!1,r){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,r))}function i(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function s(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function l(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function c(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},33303:(e,t,r)=>{function n(){return Promise.resolve()}function o(){return new Promise(window.requestAnimationFrame)}async function a(e,t){let r,n=new Promise(t=>{r=self.setTimeout(t,e)});if(!t)return n;try{var o;await Promise.race([n,(o=t,new Promise((e,t)=>{let r=Error("aborted");r.name="AbortError",o.aborted?t(r):o.addEventListener("abort",()=>t(r))}))])}catch(e){throw self.clearTimeout(r),e}}function i(e){let t=[];return function(r){t.push(r),1===t.length&&queueMicrotask(()=>{let r=t.slice(0);t.length=0,e(r)})}}r.d(t,{G$:()=>o,k2:()=>n,rK:()=>i,uk:()=>a})},65787:(e,t,r)=>{r.d(t,{U:()=>a});let n=e=>{let t=getComputedStyle(e,null);return["overflow","overflow-y","overflow-x"].some(e=>{let r=t.getPropertyValue(e);return"auto"===r||"scroll"===r})},o=(e,t)=>e&&null!==e.parentNode?o(e.parentNode,t.concat([e])):t;function a(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(let t of o(e.parentNode,[]))if((t instanceof HTMLElement||t instanceof SVGElement)&&n(t))return t;return document.scrollingElement||document.documentElement}}},53419:(e,t,r)=>{let n;r.d(t,{BI:()=>m,Ti:()=>f,lA:()=>u,sX:()=>p});var o=r(70837),a=r(18679),i=r(82075),s=r(11083);let{getItem:l}=(0,i.A)("localStorage"),c="dimension_",d=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,o.O)("octolytics");delete e.baseContext,n=new a.s(e)}catch{}function h(e){let t=(0,o.O)("octolytics").baseContext||{};if(t)for(let[e,r]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(c)&&(t[e.replace(c,"")]=r,delete t[e]);let r=document.querySelector("meta[name=visitor-payload]");for(let[e,n]of(r&&Object.assign(t,JSON.parse(atob(r.content))),new URLSearchParams(window.location.search)))d.includes(e.toLowerCase())&&(t[e]=n);return t.staff=(0,s.X)().toString(),Object.assign(t,e)}function u(e){n?.sendPageView(h(e))}function p(){return document.head?.querySelector('meta[name="current-catalog-service"]')?.content}function m(e,t={}){let r=p(),o=r?{service:r}:{};for(let[e,r]of Object.entries(t))null!=r&&(o[e]=`${r}`);n&&(h(o),n.sendEvent(e||"unknown",h(o)))}function f(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},37285:(e,t,r)=>{r.d(t,{Av:()=>s,BM:()=>o,Gr:()=>l,HX:()=>h,M_:()=>u,RD:()=>d,rb:()=>a});var n=r(71315);let o="GraphQLTraces",a="GraphQLTracingRefresh",i=decodeURIComponent(new URLSearchParams(n.fV.search).get("disable_clusters")||"").split(",").filter(e=>""!==e);function s(e){if(!n.cg||!l()||!e)return;let t=n.cg;t&&!t[o]&&(t[o]=[]),t&&e.__trace&&(t[o].push(e.__trace),"function"==typeof t[a]&&t[a]())}function l(){let e=n.cg;return"true"===new URLSearchParams(n.fV.search).get("_tracing")||e&&void 0!==e[o]}function c(){return i.length>0}function d(e){if(!l()&&!c())return e;let t=new URL(e,n.fV.origin);return l()&&t.searchParams.set("_tracing","true"),c()&&t.searchParams.set("disable_clusters",i.join(",")),t.pathname+t.search}function h(e){return i.indexOf(e)>-1}function u(e){let t=i.indexOf(e);t>-1?i.splice(t,1):i.push(e);let r=new URLSearchParams(n.fV.search);r.set("disable_clusters",i.join(",")),n.fV.search=r.toString()}},41245:(e,t,r)=>{r.d(t,{A:()=>n});let n=(e,t)=>{let r=new URL(e,window.location.origin),n=new URL(t,window.location.origin);return n.href.includes("#")&&r.host===n.host&&r.pathname===n.pathname&&r.search===n.search}},73189:(e,t,r)=>{r.d(t,{l:()=>n});let n=()=>void 0},68911:(e,t,r)=>{r.d(t,{D7:()=>o,MQ:()=>n,gE:()=>a});let n=e=>{if(e){if(e.startsWith("refs/tags/"))return"tag";if(e.startsWith("refs/heads/"))return"branch"}},o=(e,t)=>"branch"===t?`refs/heads/${e}`:"tag"===t?`refs/tags/${e}`:e,a=e=>{if(!e)return;if(!n(e))return e;let[,,...t]=e.split("/");return t.join("/")}},30721:(e,t,r)=>{r.d(t,{VB:()=>SSRNetwork,SD:()=>I,E7:()=>O});var n=r(50467),o=r(40961),a=r(69487),i=r(37285),s=r(96379),l=r(71315),c=r(38102);let d=["SAML","SERVICE_UNAVAILABLE"],h={FORBIDDEN:["SAML error"],AUTHENTICATION:["Couldn\u2019t authenticate you"]},u={NOT_FOUND:[["repository","issue"]]};var p=r(51987);function m(e,t){let r=u[e];if(!r)return!1;for(let e of r){if(t.length!==e.length)continue;let r=!0;for(let n=0;n<t.length;n++)if(t[n]!==e[n]&&"*"!==e[n]){r=!1;break}if(r)return!1}return!0}let f=class ValidationError extends Error{constructor(e,t,r){super(e,t),(0,n._)(this,"catalogService",void 0),this.catalogService=r,this.name="ValidationError"}};async function g(e,t,r){if(e.status>401&&404!==e.status){let n=await e.text(),o={url:e.url,timestamp:new Date().toISOString(),persistedQueryId:t,persistedQueryName:r,failureRequestId:e.headers.get("X-Github-Request-Id")},a=`HTTP error (${e.status}): ${n||"No additional text"}.
    Error Info: ${JSON.stringify(o)}`;if(429===e.status)throw{message:a,cause:e.status};throw Error(a,{cause:e.status})}}async function x(e,t,r,n="GET",o,a,i,s){return(await b(e,t,r,n,{isSubscription:!1,scope:void 0},o,a,i,s)).response}async function b(e,t,r,n="POST",o={},s,u,p,g){let x=JSON.stringify((0,a.stableCopy)({query:e,variables:r,...o.scopeObject?{scopeObject:o.scopeObject}:{}})),{isSubscription:y,scope:v,subscriptionTopic:j,dispatchTime:_}=o,S=function(e,t,r,n,o,a,i="/_graphql"){let s=[];if("GET"===e&&s.push(`body=${t}`),r&&s.push("subscription=1"),o&&s.push(`scope=${encodeURIComponent(o)}`),n&&s.push(`subscriptionTopic=${encodeURIComponent(n)}`),a&&s.push(`dispatchTime=${encodeURIComponent(a)}`),l.cg){let e=new URL(l.cg.location.href,l.cg.location.origin).searchParams.get("_features");e&&s.push(`_features=${e}`)}return s.length>0?`${i}?${s.join("&")}`:i}(n,encodeURIComponent(x),y,j,v,_,s),C=null;try{let{subscriptionId:r,requestId:o,json:a,status:s}=await w(S,n,e,t,x,u);if(C=r,p&&a.errors){let e=p[s];if(e)for(let r of a.errors){let n=e[r.type];n?.({persistedQueryName:t,errorMessage:r.message})}}let l=function(e,t,r,n){var o,a;if(o=t,a=e,"errors"in a&&(a.errors.filter(e=>{let t=d.includes(e.type)||!!h[e.type]?.includes(e.message),r=m(e.type,e.path);return t||r}).map(e=>{console.error(`Failed to fetch data. Please use this request ID when contacting support: ${o} Error: ${e.type}: ${e.message} (path: ${e.path})`)}),a.errors=a.errors.filter(e=>{let t=d.includes(e.type)||!!h[e.type]?.includes(e.message),r=m(e.type,e.path);return!t&&!r})),"errors"in e&&e.errors.length){let t=e.errors.map(e=>`GraphQL error: ${e.type}: ${e.message} (path: ${e.path})`).join(", "),o=new f(`${t} (Persisted query id: ${r})`,{cause:e.errors},e.extensions?.query_owning_catalog_service);if(n)(0,c.N7)(o),n.error(o);else throw o}if(!("data"in e)){let o=Error(`Expected data property in response: ${JSON.stringify(e)}. persistedQueryId: ${r}, requestId: ${t}`);if(n)(0,c.N7)(o),n.error(o);else throw o}return e}(a,o,e,g);return l&&(0,i.Av)(l),{subscriptionId:C,response:l}}catch(e){if(g)return"object"==typeof e&&null!==e&&"cause"in e&&429===e.cause||(0,c.N7)(e),g.error(e),{subscriptionId:C,response:{errors:[{message:"An error occurred while fetching data. Please try again later."}],extensions:{}}};throw e}}async function w(e,t,r,n,o,a){return y((0,i.RD)(e),t,r,n,o,a)}async function y(e,t,r,n,o,a){let i,l,d={...(0,p.kt)()};a?.issues_react_perf_test&&(d["X-LUC-Environment"]="issues");let h=(i="GET"===t?await fetch(e,{method:t,cache:"no-cache",credentials:"include",headers:{Accept:"application/json",...d}}):await (0,s.DI)(e,{method:t,headers:{Accept:"application/json",...d},...o?{body:o}:void 0})).headers.get("X-Subscription-ID"),u=i.headers.get("X-Github-Request-Id")||"",m=i.status;await g(i,r,n);try{l=await i.json()}catch(r){let t={error:r,status:m,url:e,requestId:u};throw(0,c.N7)(Error(`Failed to parse server JSON response ${JSON.stringify(t)}`)),Error(`Failed to parse server response. Please try again later. ${JSON.stringify(t)}`)}return{subscriptionId:h,requestId:u,json:l,status:m}}let v=[{kind:"linked",handle(e,t,r){if(null!=t&&t.getType()===a.ROOT_TYPE&&"node"===e.name&&r.hasOwnProperty("id"))return r.id}},{kind:"pluralLinked",handle(e,t,r){if(null!=t&&t.getType()===a.ROOT_TYPE&&"nodes"===e.name&&r.hasOwnProperty("ids"))return r.ids}}];var j=r(11418),_=r(73056),S=r(69982);function C(e){return(0,S.unstable_scheduleCallback)(S.unstable_LowPriority,e)}let N={cancel:()=>!1,schedule:e=>((0,o.unstable_batchedUpdates)(e),"")};let SSRNetwork=class SSRNetwork{execute(e,t,r){return this.relayNetwork.execute(e,t,r)}getPreloadedSubscriptions(){return this.preloadedSubscriptions}constructor(e,t={},r,o,i,s){(0,n._)(this,"relayNetwork",void 0),(0,n._)(this,"ssrPreloadedData",void 0),(0,n._)(this,"preloadedSubscriptions",void 0),(0,n._)(this,"warningsShown",void 0),(0,n._)(this,"enabled_features",void 0),(0,n._)(this,"maxAge",void 0),(0,n._)(this,"errorCallbacks",void 0),this.ssrPreloadedData=e,this.enabled_features=t,this.preloadedSubscriptions=r,this.warningsShown=new Set,this.maxAge=i,this.errorCallbacks=s,this.relayNetwork=a.Network.create((e,t)=>a.Observable.create(r=>{let n=function({params:e,variables:t,ssrPreloadedQueries:r,baseUrl:n,emitWarning:o,enabledFeatures:a,maxAge:i,errorCallbacks:s,observer:c}){if(!e.id)throw Error("params has no id property!");if(e.id&&r){let n=JSON.stringify(t),o=r.get(e.id)?.get(n),a=Math.floor(Date.now()/1e3),s=o?.timestamp;if(o&&(c.next(o),!(i&&s&&a>s+i)))return void c.complete();e.metadata?.isRelayRouteRequest&&(0,l.g5)()}let d="mutation"===e.operationKind?"POST":"GET";if(l.KJ)return x(e.id,e.name,t,d,n,a,s,c)}({params:e,variables:t,ssrPreloadedQueries:this.ssrPreloadedData,baseUrl:o,emitWarning:e=>{this.warningsShown.has(e)||(this.warningsShown.add(e),console.warn(e))},enabledFeatures:this.enabled_features,maxAge:i,errorCallbacks:this.errorCallbacks,observer:r});n instanceof Promise&&n.then(e=>{if(!Array.isArray(e)&&"extensions"in e&&e.extensions&&e.extensions.subscriptions){let t=e.extensions.subscriptions;for(let e in t)for(let r in this.preloadedSubscriptions.has(e)||this.preloadedSubscriptions.set(e,new Map),t[e])this.preloadedSubscriptions.get(e)?.set(r,t[e][r])}r.next(e),r.complete()})}),(e,t)=>(function(e,t,r=new Map){let n=e.id,o=e.name;return a.Observable.create(a=>{let i=()=>{},s=!1;return async function(){if(!n)throw Error("unexpected operation with no id!");let l=e.metadata?.scope,d=function(e,t,r,n){let o=n.get(e);if(o)e:for(let[e,n]of o){for(let[n,o]of Object.entries(JSON.parse(e)))if("$scope"===n&&r!==o||t[n]!==o)continue e;return n}}(n,t,l,r),h=null;if(d)h=d.subscriptionId,d.response&&a.next(d.response);else try{let e=await b(n,o,t,"GET",{isSubscription:!0,scope:l});h=e.subscriptionId,e.response&&a.next(e.response)}catch(e){if(e instanceof Error&&e.message.includes("Subscription halted"))return;throw e}try{let e=await (0,j.H)();if(s)return;let r=(0,_.$)(e,h,async({scope_object:e,subscription_topic:r,dispatch_time:i})=>{try{let{response:s}=await b(n,o,{...t},"GET",{isSubscription:!0,scopeObject:e,subscriptionTopic:r,dispatchTime:i,scope:l});s&&a.next(s)}catch(e){(0,c.N7)(e,{message:`Error in fetching update for ${n} with variables ${JSON.stringify(t)}`})}});r?.unsubscribe&&(i=r.unsubscribe)}catch(e){a.error(e)}}(),{get closed(){return s},unsubscribe(){s=!0,i()}}})})(e,t,this.preloadedSubscriptions))}};let O=(e,t)=>{let r=new SSRNetwork(new Map,{},new Map,e,void 0,t),n=new a.Environment({scheduler:N,store:new a.Store(new a.RecordSource,{gcReleaseBufferSize:50,queryCacheExpirationTime:3e5,gcScheduler:C}),getDataID:(e,t)=>{if("Viewer"===t)return null==e.id?(0,a.generateClientID)("client:root","viewer"):e.id;if("ProjectV2SingleSelectFieldOption"===t){let t=[];return e.id&&t.push(e.id),e.name&&t.push(e.name),e.color&&t.push(e.color),e.description&&t.push(function(e){let t=0;if(0===e.length)return t;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return t}(e.description)),t.join("_")}return e.id},network:r,missingFieldHandlers:v});return n.options={baseUrl:e,getPreloadedSubscriptions:()=>r.getPreloadedSubscriptions()},n};function I({environment:e,query:t,variables:r={}}){let n=(0,a.getRequest)(t),o=(0,a.createOperationDescriptor)(n,r);return e.retain(o),(0,a.fetchQuery)(e,t,r,{fetchPolicy:"store-or-network"})}},29731:(e,t,r)=>{r.d(t,{G:()=>n});let n=e=>({})},54571:(e,t,r)=>{r.d(t,{I:()=>i});var n=r(96540),o=r(88431),a=r(76629);function i(e,t,r=[]){let s=(0,n.useCallback)(e,r),l=(0,a.BP)(),c=(0,n.useRef)(l===a.O8.ClientRender),[d,h]=(0,n.useState)(()=>l===a.O8.ClientRender?s():t),u=(0,n.useCallback)(()=>{h(s)},[s]);return(0,o.N)(()=>{c.current||h(s),c.current=!1},[s,...r]),[d,u]}},45385:(e,t,r)=>{r.d(t,{u:()=>i});var n=r(25407),o=r(96379),a=r(96540);function i(e,t,r,i){let[s,l]=(0,a.useState)({loading:!0}),c=t&&e&&r&&i?(0,n.IO9)({repo:{name:t,ownerLogin:e},commitish:r,action:"file-contributors",path:i}):null;return(0,a.useEffect)(()=>{if(!c)return;let e=!1;return(async()=>{l({loading:!0});let t=await (0,o.lS)(c);if(!e)try{t.ok?l({contributors:await t.json()}):l({error:!0})}catch{l({error:!0})}})(),function(){e=!0}},[c]),s}},46747:(e,t,r)=>{r.d(t,{d:()=>i});var n=r(31223),o=r(23125),a=r(96540);let i=(e,t,{leading:r=!1,maxWait:i,trailing:s=!0,onChangeBehavior:l="flush"}={})=>{let c=(0,n.M)(e),d=(0,a.useMemo)(()=>{let e=void 0===i?{leading:r,trailing:s}:{leading:r,trailing:s,maxWait:i};return(0,o.A)((...e)=>c.current(...e),t,e)},[c,t,r,i,s]);return(0,a.useEffect)(()=>()=>{d?.[l]()},[d,l]),d}},70263:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(88431),o=r(96540);function a(){let e=(0,o.useRef)(!1),t=(0,o.useCallback)(()=>e.current,[]);return(0,n.N)(()=>(e.current=!0,()=>{e.current=!1}),[]),t}},91547:(e,t,r)=>{r.d(t,{E:()=>u,q:()=>h});var n=r(5225),o=r(25407),a=r(82591),i=r(96379),s=r(96540);async function l(e){let t=await (0,i.lS)(e);return t.ok?await t.json():void 0}let c=new Map,d=(0,n.A)(l,{cache:c});function h(){c.clear()}function u(e,t,r,n){let[i,l]=(0,s.useState)(),[c,u]=(0,s.useState)(!1),[p,m]=(0,s.useState)(!0),f=t&&e&&r&&n?(0,o.IO9)({repo:{name:t,ownerLogin:e},commitish:r,action:"latest-commit",path:n}):null;return(0,s.useEffect)(()=>{let e=new AbortController;return document.addEventListener(a.z.START,h,{signal:e.signal}),()=>{e.abort()}},[]),(0,s.useEffect)(()=>{let e=!1;return(async()=>{if(!f)return;u(!1),m(!0),l(void 0);let t=await d(f);if(!e){try{t?l(t):u(!0)}catch{u(!0)}m(!1)}})(),function(){e=!0}},[f,r]),[i,p,c]}},88431:(e,t,r)=>{r.d(t,{N:()=>a});var n=r(71315),o=r(96540);let a=void 0!==n.cg?.document?.createElement?o.useLayoutEffect:o.useEffect},96459:(e,t,r)=>{r.d(t,{Z:()=>c,o:()=>d});var n=r(96540),o=r(13017),a=r(41245),i=r(65432),s=r(58578),l=r(24518);let c=()=>{let{routes:e}=n.useContext(l.k),t=(0,o.Zp)();return n.useCallback((l,c={})=>{let d=(0,o.o1)(l).pathname;if(!(0,o.ue)(e,d)||c.reloadDocument){let e="string"==typeof l?l:(0,o.AO)(l);(async()=>{let{softNavigate:t}=await Promise.all([r.e("vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js"),r.e("packages_soft-navigate_soft-navigate_ts")]).then(r.bind(r,54563));t(e)})()}else{(0,a.A)(location.href,l.toString())||(0,i.SC)("react");let{preventAutofocus:e,...r}=c;(0,n.startTransition)(()=>{t(l,e?{...r,state:{[s.V]:!0,...r.state}}:r)})}},[t,e])},d=()=>{let[e]=(0,o.ok)(),t=c(),{pathname:r}=(0,o.zy)(),a=n.useCallback((n,a={})=>{t({pathname:r,search:(0,o.PI)("function"==typeof n?n(e):n).toString()},a)},[e,t,r]);return[e,a]}},42255:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(70263),o=r(96540);let a=function(e){let t=(0,n.A)(),[r,a]=(0,o.useState)(e);return[r,(0,o.useCallback)(e=>{t()&&a(e)},[t])]}},96379:(e,t,r)=>{r.d(t,{DI:()=>a,QJ:()=>s,Sr:()=>l,lS:()=>i});var n=r(51987),o=r(88057);async function a(e,t={}){var r=e;if(new URL(r,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch");let i=function(e){let t=new URL(e,window.location.href),r=new URL(window.location.href,window.location.origin),n=r.searchParams.get("_features");n&&!t.searchParams.has("_features")&&t.searchParams.set("_features",n);let o=r.searchParams.get("_tracing");return o&&!t.searchParams.has("_tracing")&&t.searchParams.set("_tracing",o),e.startsWith(window.location.origin)?t.href:`${t.pathname}${t.search}`}(e),s={...t.headers,"GitHub-Verified-Fetch":"true",...(0,n.kt)()},l=await fetch(i,{...t,headers:s}),c=l?.headers?.get("X-Github-Request-Id");return c&&(0,o.Ex)(c),l}function i(e,t){let r={...t?.headers??{},Accept:"application/json","Content-Type":"application/json"},n=t?.body?JSON.stringify(t.body):void 0;return a(e,{...t,body:n,headers:r})}function s(e,t={}){let r={...t.headers,"GitHub-Is-React":"true"};return a(e,{...t,headers:r})}function l(e,t){let r={...t?.headers??{},"GitHub-Is-React":"true"};return i(e,{...t,headers:r})}},17005:(e,t,r)=>{r.d(t,{l:()=>h});var n=r(74848),o=r(21728),a=r(77274),i=r(96379),s=r(96540),l=r(35247),c=r(54508);let d=[{name:"Hate it",value:1,icon:a.YS,color:"veryDissatisfied"},{name:"Not great",value:2,icon:a.Mm,color:"dissatisfied"},{name:"It\u2019s ok",value:3,icon:a.Cf,color:"satisfied"},{name:"Love it",value:4,icon:a.mN,color:"verySatisfied"}],h=(0,s.forwardRef)(function(e,t){let r,h,u,p,m=(0,o.c)(7),{mode:f,returnFocusRef:g}=e,x=(0,s.useRef)(null),b=(0,s.useRef)(null),w=(0,s.useRef)(void 0);m[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>({openDialog:e=>{w.current=e,l.W.copilotChatInterviewSurvey?x.current?.openDialog():b.current?.openDialog(e)}}),m[0]=r):r=m[0],(0,s.useImperativeHandle)(t,r),m[1]!==f?(h=async(e,t)=>{let r=[];if(null==e&&r.push("Please select a rating."),t.length>2e3&&r.push("Please keep your feedback within 2000 characters or less."),r.length>0)return r;let n={rating:e,content:t,hostname:window.location.hostname,path:window.location.pathname,mode:f};try{(await (0,i.lS)("/github-copilot/feedback",{method:"POST",body:n})).ok||r.push("An error occurred while submitting your feedback.")}catch{r.push("An error occurred while submitting your feedback.")}return r},m[1]=f,m[2]=h):h=m[2];let y=h;return m[3]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(c.E,{ref:x,onClose:e=>{"no-thanks"===e&&b.current?.openDialog(w.current)}}),m[3]=u):u=m[3],m[4]!==y||m[5]!==g?(p=(0,n.jsxs)(n.Fragment,{children:[u,(0,n.jsx)(a.NE,{ref:b,options:d,onSubmit:y,returnFocusRef:g})]}),m[4]=y,m[5]=g,m[6]=p):p=m[6],p});h.displayName="ConversationFeedbackDialog"},87255:(e,t,r)=>{r.d(t,{Y:()=>N});var n,o=r(74848),a=r(21728),i=r(70170),s=r(53419),l=r(29731),c=r(83494),d=r(88431),h=r(96379),u=r(16255),p=r(65029),m=r(75298),f=r(55847),g=r(96665),x=r(96540),b=r(40961),w=r(2635),y=r(33592);let v={footerContainer:"PersonalInstructionsDialog-module__footerContainer--T9wxr"};var j=r(38621),_=r(52446);let S={Role:{tooltip:"Role, domain, style, and focus areas",body:`Your role:
- {role_type} expert in {domain}
- Focus on {key_skill_area}
`},Communication:{tooltip:"Language, tone and format",body:`Communication:
- Write in {tone/language}
- Reference {source_type} documentation
- Structure responses as {format}
`},"Code preferences":{tooltip:"Code style, patterns, and conventions",body:`Code guidelines:
- Use {language} conventions
- Follow {pattern/code_guidelines}
- Optimize for {goal}
`}},C=(0,x.forwardRef)(function(e,t){let r,n,i,s,l,c,d,h,u=(0,a.c)(19),{onSelect:p}=e,[m,f]=(0,x.useState)(!1);u[0]!==m?(r=()=>f(!m),u[0]=m,u[1]=r):r=u[1];let g=r;u[2]===Symbol.for("react.memo_cache_sentinel")?(n={marginBottom:"1px"},u[2]=n):n=u[2],u[3]!==p||u[4]!==m?(i=m&&Object.entries(S)?.map(e=>{let[t,r]=e;return(0,o.jsxs)(_.l.Item,{"aria-label":`${r.tooltip}`,className:"mx-0 border fgColor-muted d-inline-block width-auto",onSelect:()=>p(t,r.body),children:[(0,o.jsx)(j.PlusIcon,{}),t]},t)}),u[3]=p,u[4]=m,u[5]=i):i=u[5],u[6]!==i?(s=(0,o.jsx)(_.l,{className:"d-inline-flex flex-wrap gap-2 rounded-2",children:i}),u[6]=i,u[7]=s):s=u[7];let b=m?"Hide templates":"Show templates";return u[8]===Symbol.for("react.memo_cache_sentinel")?(l={border:"1px solid transparent"},u[8]=l):l=u[8],u[9]!==m?(c=m?(0,o.jsx)(j.XIcon,{}):(0,o.jsx)(j.LightBulbIcon,{}),u[9]=m,u[10]=c):c=u[10],u[11]!==b||u[12]!==c||u[13]!==g?(d=(0,o.jsx)(_.l,{className:"d-flex flex-column flex-justify-end",children:(0,o.jsx)(_.l.Item,{"aria-label":b,"data-testid":"toggle-templates",className:"fgColor-muted d-inline-block width-auto flex-justify-end mx-0",style:l,onSelect:g,children:c})}),u[11]=b,u[12]=c,u[13]=g,u[14]=d):d=u[14],u[15]!==t||u[16]!==s||u[17]!==d?(h=(0,o.jsxs)("div",{ref:t,className:"d-inline-flex flex-justify-between position-absolute bgColor-default right-0 left-0 bottom-0 ml-2 mr-3",style:n,children:[s,d]}),u[15]=t,u[16]=s,u[17]=d,u[18]=h):h=u[18],h});try{C.displayName||(C.displayName="PersonalInstructionsTemplates")}catch{}try{(n=PersonalInstructionsTemplatesWithRef).displayName||(n.displayName="PersonalInstructionsTemplatesWithRef")}catch{}let N=({onDismiss:e,returnFocusRef:t})=>{let r=(0,w.Pk)(),n=(0,y.b)(),[j,_]=(0,x.useState)(r.personalInstructions??""),[S,N]=(0,x.useState)(void 0),[I,P]=(0,x.useState)(!1),k=(0,x.useRef)(null),D=(0,x.useRef)(null),[R,E]=(0,x.useState)(""),L=((e,t)=>{let r,n,o=(0,a.c)(4),[s,l]=(0,x.useState)(48);return o[0]!==e||500!==o[1]?(r=()=>{let t=(0,i.s)(()=>{e?.current&&l(e.current.clientHeight??48)},500),r=new ResizeObserver(t);return e?.current&&r.observe(e.current),()=>{t.cancel(),r?.disconnect?.()}},n=[e,500],o[0]=e,o[1]=500,o[2]=r,o[3]=n):(r=o[2],n=o[3]),(0,x.useEffect)(r,n),s})(D);(0,d.N)(()=>{k?.current&&(k.current.scrollTop=k.current.scrollHeight)},[j]);let T=(0,x.useCallback)(async()=>{if(!I){P(!0),R&&(0,s.BI)("copilot_personal_instruction_template_usage",{content:R});try{let t=await (0,h.lS)("/copilot/personal_instructions",{method:"POST",body:{prompt:j}});if(t.ok)(0,s.BI)("dotcom_chat.activate",{target:"PERSONAL_INSTRUCTIONS_SAVE",mode:"immersive"}),n.dispatch({type:"SET_PERSONAL_INSTRUCTIONS",personalInstructions:j}),(0,b.flushSync)(()=>e());else{let e=await t.json();N(String(e.errorMessage))}}catch{N("An error occurred while saving your personal instructions.")}finally{P(!1)}}},[I,j,n,e,R]),A=(e,t)=>{t&&(_(j?`${j}
${t}`:t),E(e),k?.current?.focus())},V=()=>{T()},B=(0,x.useCallback)(()=>{(0,s.BI)("dotcom_chat.dismiss",{target:"PERSONAL_INSTRUCTIONS_DISMISS",mode:"immersive"}),(0,b.flushSync)(()=>e())},[e]);return(0,o.jsx)(u.Z,{children:(0,o.jsx)(g.l,{onClose:B,title:"Personal instructions",subtitle:"Set up Copilot to align with your workflows and preferences. These instructions will only impact your personal conversation.",width:"large",returnFocusRef:t,renderBody:()=>(0,o.jsx)(g.l.Body,{children:(0,o.jsx)("form",{onSubmit:T,children:(0,o.jsxs)(p.A,{children:[(0,o.jsx)(p.A.Label,{visuallyHidden:!0,children:"Instructions"}),(0,o.jsx)("div",{className:"width-full position-relative",children:(0,o.jsxs)(c.tL,{commands:{"github:submit-form":V},children:[(0,o.jsx)(m.Ay,{ref:k,className:"width-full",style:{paddingBottom:`${L}px`},"aria-label":"Prompt",rows:7,name:"prompt",placeholder:"Your instructions",value:j,validationStatus:S||j.length>4e3?"error":void 0,...(0,l.G)("prompt-input"),onChange:e=>{_(e.target.value),N(void 0)}}),(0,o.jsx)(C,{ref:D,onSelect:A})]})}),(0,o.jsx)(O,{text:j,promptCharLimit:4e3}),S&&(0,o.jsx)(p.A.Validation,{variant:"error",children:(0,o.jsx)("span",{...(0,l.G)("error-message"),children:S})})]})})}),renderFooter:()=>(0,o.jsxs)("div",{className:v.footerContainer,children:[(0,o.jsx)(f.Q,{variant:"default",onClick:B,children:"Cancel"}),(0,o.jsx)(f.Q,{loading:I,loadingAnnouncement:"Saving personal instructions",variant:"primary",onClick:T,children:"Save"})]})})})};function O(e){let t,r,n,i,s=(0,a.c)(10),{text:c,promptCharLimit:d}=e;s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.G)("current-character-count"),s[0]=t):t=s[0],s[1]!==c.length?(r=(0,o.jsx)("span",{className:"text-tabular-nums",...t,children:c.length}),s[1]=c.length,s[2]=r):r=s[2],s[3]!==d||s[4]!==r?(n=(0,o.jsxs)(o.Fragment,{children:[r," ","/ ",d," characters"]}),s[3]=d,s[4]=r,s[5]=n):n=s[5];let h=n;return s[6]!==h||s[7]!==d||s[8]!==c.length?(i=(0,o.jsx)(o.Fragment,{children:c.length>d?(0,o.jsx)(p.A.Validation,{variant:"error",children:h}):(0,o.jsx)(p.A.Caption,{children:h})}),s[6]=h,s[7]=d,s[8]=c.length,s[9]=i):i=s[9],i}try{N.displayName||(N.displayName="PersonalInstructionsDialog")}catch{}try{O.displayName||(O.displayName="CharacterCount")}catch{}},54589:(e,t,r)=>{r.d(t,{X:()=>s});var n=r(74848),o=r(21654),a=r(10242),i=r(84174);let s=({children:e="Preview",feedbackUrl:t,className:r})=>(0,n.jsx)(i.V,{className:r,label:(0,n.jsx)(o.A,{variant:"success",children:e}),link:t?(0,n.jsx)(a.A,{feedbackUrl:t}):void 0});try{s.displayName||(s.displayName="BetaLabel")}catch{}},25556:(e,t,r)=>{r.d(t,{m:()=>g});var n=r(74848),o=r(11683),a=r(96540),i=r(59299),s=r(16255),l=r(21998),c=r(34164);let d=r(38267).Ay.span.withConfig({displayName:"ControlledTooltip__TooltipBase",componentId:"sc-5e289f2a-0"})(["&::after{position:absolute;z-index:1000000;display:none;padding:0.5em 0.75em;font:normal normal 11px/1.5 ",";-webkit-font-smoothing:subpixel-antialiased;color:",";text-align:center;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-wrap:break-word;white-space:pre;pointer-events:none;content:attr(data-visible-text);background:",";border-radius:",";opacity:0;}@keyframes tooltip-appear{from{opacity:0;}to{opacity:1;}}&.tooltipped-open,&:hover,&:active,&:focus{&::after{display:inline-block;text-decoration:none;animation-name:tooltip-appear;animation-duration:0.1s;animation-fill-mode:forwards;animation-timing-function:ease-in;animation-delay:0s;}}&.tooltipped-no-delay.tooltipped-open,&.tooltipped-no-delay:hover,&.tooltipped-no-delay:active,&.tooltipped-no-delay:focus{&::after{animation-delay:0s;}}&.tooltipped-s,&.tooltipped-se,&.tooltipped-sw{&::after{top:100%;right:50%;margin-top:6px;}}&.tooltipped-se{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-sw::after{margin-right:-",";}&.tooltipped-n,&.tooltipped-ne,&.tooltipped-nw{&::after{right:50%;bottom:100%;margin-bottom:6px;}}&.tooltipped-ne{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-nw::after{margin-right:-",";}&.tooltipped-s::after,&.tooltipped-n::after{transform:translateX(50%);}&.tooltipped-w{&::after{right:100%;bottom:50%;margin-right:6px;transform:translateY(50%);}}&.tooltipped-e{&::after{bottom:50%;left:100%;margin-left:6px;transform:translateY(50%);}}&.tooltipped-align-right-2::after{right:0;margin-right:0;}&.tooltipped-align-left-2::after{left:0;margin-left:0;}",";"],(0,i.Jt)("fonts.normal"),(0,i.Jt)("colors.fg.onEmphasis"),(0,i.Jt)("colors.neutral.emphasisPlus"),(0,i.Jt)("radii.2"),(0,i.Jt)("space.3"),(0,i.Jt)("space.3"),(0,i.Jt)("space.3"),(0,i.Jt)("space.3"),l.sx),h=()=>()=>void 0,u=()=>!1,p=()=>!0,m=(0,a.forwardRef)(function({direction:e="n",className:t,text:r,noDelay:o,align:i,wrap:l,open:m=!1,portalProps:f={},...g},x){let b=(0,a.useSyncExternalStore)(h,p,u),w=(0,c.$)(t,`tooltipped-${e}`,i&&`tooltipped-align-${i}-2`,o&&"tooltipped-no-delay",l&&"tooltipped-multiline",m&&"tooltipped-open");return b?(0,n.jsx)(s.Z,{...f,children:(0,n.jsx)(d,{ref:x,role:"tooltip","aria-label":r,"data-visible-text":r||g["aria-label"],...g,sx:{position:"fixed",zIndex:1,...g.sx},className:w})}):null});try{m.displayName||(m.displayName="ControlledTooltip")}catch{}var f=r(65787);let g=(0,a.forwardRef)(function({contentRef:e,open:t,anchoredPositionAlignment:r,anchorSide:i,anchorOffset:s,alignmentOffset:l,allowOutOfBounds:c,...d},h){let u=(0,a.useRef)(null);(0,a.useImperativeHandle)(h,()=>u.current);let p=(0,a.useRef)({left:0,top:0}),g=(0,a.useSyncExternalStore)((0,a.useCallback)(r=>{if(!u.current||!e.current||!t)return()=>void 0;let n=(0,f.U)(e.current);return n?.addEventListener("scroll",r),()=>{n?.removeEventListener("scroll",r)}},[e,t]),(0,a.useCallback)(()=>{if(!u.current||!e.current)return p.current;let t=(0,o.uG)(u.current,e.current,{align:r??"center",side:i??"outside-top",alignmentOffset:l??0,anchorOffset:s??0,allowOutOfBounds:c});return(t.left!==p.current.left||t.top!==p.current.top)&&(p.current=t),p.current},[e,l,s,r,i,c]),(0,a.useCallback)(()=>p.current,[]));return(0,n.jsx)(m,{...d,ref:u,open:t,style:{position:"absolute",...g,...d.style}})});try{g.displayName||(g.displayName="PortalTooltip")}catch{}},76629:(e,t,r)=>{r.d(t,{BP:()=>h,D3:()=>d,O8:()=>l});var n=r(74848),o=r(21728),a=r(96540),i=r(71315),s=r(88431);let l={ServerRender:"ServerRender",ClientHydrate:"ClientHydrate",ClientRender:"ClientRender"},c=(0,a.createContext)(l.ClientRender);function d(e){let t,r,d,h,u=(0,o.c)(8),{wasServerRendered:p,children:m}=e;u[0]!==p?(t=()=>i.X3?l.ServerRender:p?l.ClientHydrate:l.ClientRender,u[0]=p,u[1]=t):t=u[1];let[f,g]=(0,a.useState)(t);return u[2]!==f?(r=()=>{f!==l.ClientRender&&g(l.ClientRender)},d=[f],u[2]=f,u[3]=r,u[4]=d):(r=u[3],d=u[4]),(0,s.N)(r,d),u[5]!==m||u[6]!==f?(h=(0,n.jsx)(c.Provider,{value:f,children:m}),u[5]=m,u[6]=f,u[7]=h):h=u[7],h}function h(){return(0,a.useContext)(c)}try{c.displayName||(c.displayName="RenderPhaseContext")}catch{}try{d.displayName||(d.displayName="RenderPhaseProvider")}catch{}},43258:(e,t,r)=>{r.d(t,{Qn:()=>l,T8:()=>d,Y6:()=>u,k6:()=>h});var n=r(74848),o=r(65556),a=r(96540),i=r(73189),s=r(42255);let l=5e3,c=(0,a.createContext)({addToast:i.l,addPersistedToast:i.l,clearPersistedToast:i.l}),d=(0,a.createContext)({toasts:[],persistedToast:null});function h({children:e}){let[t,r]=(0,s.A)([]),[i,h]=(0,a.useState)(null),{safeSetTimeout:u}=(0,o.A)(),p=(0,a.useCallback)(function(e){r([...t,e]),u(()=>r(t.slice(1)),l)},[t,u,r]),m=(0,a.useCallback)(function(e){h(e)},[h]),f=(0,a.useCallback)(function(){h(null)},[h]),g=(0,a.useMemo)(()=>({addToast:p,addPersistedToast:m,clearPersistedToast:f}),[m,p,f]),x=(0,a.useMemo)(()=>({toasts:t,persistedToast:i}),[t,i]);return(0,n.jsx)(c.Provider,{value:g,children:(0,n.jsx)(d.Provider,{value:x,children:e})})}function u(){return(0,a.useContext)(c)}try{c.displayName||(c.displayName="ToastContext")}catch{}try{d.displayName||(d.displayName="InternalToastsContext")}catch{}try{h.displayName||(h.displayName="ToastContextProvider")}catch{}}}]);
//# sourceMappingURL=packages_analytics-provider_context_ts-packages_aria-live_aria-live_ts-packages_copilot-chat_-75de61-80cd3c775aa4.js.map